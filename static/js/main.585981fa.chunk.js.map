{"version":3,"sources":["components/Config.js","_actions/user_actions.js","_actions/types.js","hoc/auth.js","components/views/LandingPage/LandingPage.js","components/views/LoginPage/LoginPage.js","components/views/RegisterPage/RegisterPage.js","components/views/NavBar/Sections/LeftMenu.js","components/views/NavBar/Sections/RightMenu.js","components/views/NavBar/NavBar.js","components/views/Footer/Footer.js","components/views/utils/DropZone.js","components/views/VideoUploadPage/VideoUploadPage.js","components/views/VideoDetailPage/Sections/SideVideo.js","components/views/VideoDetailPage/Sections/Subscribe.js","components/views/VideoDetailPage/Sections/LikeDisLike.js","components/views/VideoDetailPage/Sections/SingleComment.js","components/views/VideoDetailPage/Sections/ReplyComment.js","components/views/VideoDetailPage/Sections/Comment.js","components/views/VideoDetailPage/VideoDetailPage.js","components/views/SubscribePage/SubscribePage.js","components/App.js","_reducers/index.js","_reducers/user_reducer.js","index.js"],"names":["USER_SERVER","CORS_URL","dataToSubmit","a","Axios","post","withCredentials","then","response","data","request","type","payload","auth","SpecificComponent","option","adminRoute","AuthenticationCheck","props","user","useSelector","state","dispatch","useDispatch","useEffect","isAuth","isAdmin","history","push","LandingPage","useState","Videos","setVideos","get","success","videos","renderVideo","length","map","videoInfo","index","minutes","Math","floor","duration","second","lg","md","xs","key","className","href","_id","src","thumbnail","writer","image","title","description","views","view","moment","createdAt","format","gutter","Title","Typography","withRouter","rememberMeChecked","localStorage","getItem","formErrorMessage","setFormErrorMessage","rememberMe","setRememberMe","handleRememberMe","initialEmail","initialValues","email","password","validationSchema","Yup","shape","required","min","onSubmit","values","setSubmitting","setTimeout","loginUser","loginSuccess","window","setItem","userId","id","removeItem","catch","err","touched","errors","isSubmitting","dirty","handleChange","handleBlur","handleSubmit","handleReset","level","style","width","Item","prefix","color","placeholder","value","onChange","onBlur","fontSize","border","padding","borderRadius","checked","float","htmlType","minWidth","disabled","formItemLayout","labelCol","span","sm","wrapperCol","tailFormItemLayout","offset","RegisterPage","lastName","name","confirmPassword","oneOf","lastname","unix","registerUser","alert","errmsg","label","hasFeedback","validateStatus","onClick","Menu","SubMenu","ItemGroup","LeftMenu","mode","userData","status","NavBar","visible","setVisible","position","zIndex","placement","closable","onClose","Footer","height","display","flexDirection","alignItems","justifyContent","Dropzone","setVideoFilePath","ThumbnailPath","setThumbnailPath","onDrop","useCallback","acceptedFiles","formData","FormData","append","header","filePath","fileName","body","thumbnailPath","fileDuration","updateState","useDropzone","getRootProps","getInputProps","PlusOutlined","alt","VideoUploadPage","setTitle","Description","setDescription","Category","setCategory","VideoFilePath","Duration","setDuration","renderOption","categoryInfo","handleOnChange","e","target","preventDefault","category","childComponentInfo","htmlFor","SideVideo","sideVideos","setSideVideos","renderSideVideos","sideVideoInfo","seconds","Subscribe","userTo","userFrom","SubscribeNumber","setSubscribeNumber","Subscribed","setSubscribed","subscribeNumber","subscribedCheckObj","subscribed","backgroundColor","LikeDisLike","LikeNumber","setLikeNumber","DisLikeNumber","setDisLikeNumber","Like","setLike","DisLike","setDisLike","video","videoId","commentId","like","likeInfo","dislike","disLikeInfo","handleLike","handleDisLike","LikeFilled","LikeOutlined","cursor","DislikeFilled","DislikeOutlined","SingleComment","comment","updateComment","OpenComment","setOpenComment","CommentValue","setCommentValue","toggleOpenComment","submitComment","submitVariable","content","responseTo","commentInfo","textAreaChange","deleteComment","remainComments","console","log","renderForm","ReplyComment","commentList","parentId","CommentNumber","setCommentNumber","OpenReply","setOpenReply","renderReplyComment","Comment","ShowComment","setShowComment","submitVariables","renderComments","cancelComment","VideoDetailPage","match","params","Comments","setComments","VideoInfo","setVideoInfo","controls","writerId","deleteVideo","newComment","SubscribePage","SubscribeVideo","setSubscribeVideo","subscribedVideo","App","fallback","paddingTop","minHeight","exact","path","component","Auth","LoginPage","rootReducer","combineReducers","action","register","loginSucces","createStoreWithMiddleware","applyMiddleware","promiseMiddleware","ReduxThunk","createStore","ReactDOM","render","store","Reducer","__REDUX_DEVTOOLS_EXTENSION__","document","getElementById"],"mappings":"8yEAAaA,EAAc,8BACdC,EAAW,wB,4CCiBjB,WAAyBC,GAAzB,eAAAC,EAAA,sEACkBC,IAAMC,KAAN,UAAcL,EAAd,UAAkCE,EAAa,CAACI,iBAAgB,IACxEC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,QAFpC,cACGC,EADH,yBAGI,CACHC,KCtBkB,aDuBlBC,QAASF,IALV,4C,sBASA,SAAeG,IAAtB,+B,4CAAO,4BAAAV,EAAA,sEACkBC,IAAMC,KAAN,UAAcL,EAAd,SAAiC,GAAG,CAACM,iBAAgB,IACzEC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,QAFxB,cACGC,EADH,yBAII,CACHC,KC9BiB,YD+BjBC,QAASF,IANV,4C,kCEtBQ,WAAUI,EAAmBC,GAA4B,IAApBC,EAAmB,uDAAN,KAC7D,SAASC,EAAoBC,GAEzB,IAAIC,EAAOC,aAAY,SAAAC,GAAK,OAAIA,EAAMF,QAChCG,EAAWC,cAqBjB,OApBAC,qBAAU,WACNF,EAAST,KAAQN,MAAK,SAAAC,GACbA,EAASI,QAAQa,QAKdT,IAAeR,EAASI,QAAQc,UAIjB,IAAXX,IAHJG,EAAMS,QAAQC,KAAK,KALnBb,GACAG,EAAMS,QAAQC,KAAK,eAchC,IAGC,kBAACd,EAAD,iBAAuBI,EAAvB,CAA8BC,KAAMA,KAG5C,OAAOF,G,mDCmBIY,MA9Cf,WAAwB,IAAD,EACQC,mBAAS,IADjB,mBACZC,EADY,KACLC,EADK,KAEnBR,qBAAU,WACNpB,IAAM6B,IAAN,UAAahC,EAAb,qBACKM,MAAK,SAAAC,GACF,GAAIA,EAASC,KAAKyB,QAAS,CAAC,IACRC,EAAU3B,EAAlBC,KAAQ0B,OAChBH,EAAUG,SAGvB,IACH,IAAMC,EAAcL,EAAOM,OAAS,GAAKN,EAAOO,KAAI,SAACC,EAAUC,GAC3D,IAAMC,EAAUC,KAAKC,MAAMJ,EAAUK,SAAS,IACxCC,EAAUH,KAAKC,MAAMJ,EAAUK,SAAoB,GAARH,GACpD,OAAQ,kBAAC,IAAD,CAAKK,GAAI,EAAGC,GAAI,EAAGC,GAAI,GAAIC,IAAKT,GAC7B,yBAAKU,UAAU,2BACX,uBAAGC,KAAI,iBAAYZ,EAAUa,MACzB,yBAAKC,IAAG,UAAKpD,EAAL,YAAiBsC,EAAUe,aACnC,0BAAMJ,UAAU,0BAAhB,UAA6CT,EAA7C,YAAwDI,MAGhE,yBAAKK,UAAU,gCACX,yBAAKA,UAAU,kCACX,yBAAKG,IAAKd,EAAUgB,QAAV,UAAsBhB,EAAUgB,OAAOC,UAErD,yBAAKN,UAAU,sBACX,8BAAOX,EAAUkB,OACjB,8BAAOlB,EAAUmB,aACjB,6BACI,8BAAyB,IAAlBnB,EAAUoB,OAAapB,EAAUqB,KAAK,EAAtC,UAA6CrB,EAAUoB,MAAvD,oBAAyEpB,EAAUoB,MAAnF,UACP,oCAAUE,IAAOtB,EAAUuB,WAAWC,OAAO,qBAMrE,OACI,yBAAKb,UAAU,yBACX,wBAAIA,UAAU,qBAAd,UACA,kBAAC,IAAD,CAAKc,OAAQ,CAAC,GAAG,KACZ5B,K,sECvCT6B,EAAUC,IAAVD,MA0IOE,mBAxIf,SAAmBjD,GACjB,IAAMI,EAAWC,cACX6C,IAAoBC,aAAaC,QAAQ,cAFvB,EAIwBxC,mBAAS,IAJjC,mBAIjByC,EAJiB,KAICC,EAJD,OAKY1C,mBAASsC,GALrB,mBAKjBK,EALiB,KAKLC,EALK,KAOlBC,EAAmB,WACvBD,GAAeD,IAGXG,EAAeP,aAAaC,QAAQ,cAAgBD,aAAaC,QAAQ,cAAgB,GAE/F,OACE,kBAAC,IAAD,CACEO,cAAe,CACbC,MAAOF,EACPG,SAAU,IAEZC,iBAAkBC,WAAaC,MAAM,CACnCJ,MAAOG,WACJH,MAAM,oBACNK,SAAS,qBACZJ,SAAUE,WACPG,IAAI,EAAG,0CACPD,SAAS,0BAEdE,SAAU,SAACC,EAAD,GAAgC,IAArBC,EAAoB,EAApBA,cACnBC,YAAW,WACT,IAAItF,EAAe,CACjB4E,MAAOQ,EAAOR,MACdC,SAAUO,EAAOP,UAGnBzD,EJ1BH,SAAP,kCI0BmBmE,CAAUvF,IAChBK,MAAK,SAAAC,GACAA,EAASI,QAAQ8E,cACnBC,OAAOtB,aAAauB,QAAQ,SAAUpF,EAASI,QAAQiF,SACpC,IAAfpB,EACFkB,OAAOtB,aAAauB,QAAQ,aAAcN,EAAOQ,IAEjDzB,aAAa0B,WAAW,cAE1B7E,EAAMS,QAAQC,KAAK,MAEnB4C,EAAoB,+CAGvBwB,OAAM,SAAAC,GACLzB,EAAoB,4CACpBgB,YAAW,WACThB,EAAoB,MACnB,QAEPe,GAAc,KACb,QAGJ,SAAArE,GAAU,IAEPoE,EASEpE,EATFoE,OACAY,EAQEhF,EARFgF,QACAC,EAOEjF,EAPFiF,OAEAC,GAKElF,EANFmF,MAMEnF,EALFkF,cACAE,EAIEpF,EAJFoF,aACAC,EAGErF,EAHFqF,WACAC,EAEEtF,EAFFsF,aAEEtF,EADFuF,YAEF,OACE,yBAAKvD,UAAU,OAEb,kBAAC,EAAD,CAAOwD,MAAO,GAAd,UACA,0BAAMrB,SAAUmB,EAAcG,MAAO,CAAEC,MAAO,UAE5C,kBAAC,IAAKC,KAAN,CAAW1B,UAAQ,GACjB,kBAAC,IAAD,CACEW,GAAG,QACHgB,OAAQ,kBAAC,IAAD,CAAMnG,KAAK,OAAOgG,MAAO,CAAEI,MAAO,qBAC1CC,YAAY,mBACZrG,KAAK,QACLsG,MAAO3B,EAAOR,MACdoC,SAAUZ,EACVa,OAAQZ,EACRrD,UACEiD,EAAOrB,OAASoB,EAAQpB,MAAQ,mBAAqB,eAGxDqB,EAAOrB,OAASoB,EAAQpB,OACvB,yBAAK5B,UAAU,kBAAkBiD,EAAOrB,QAI5C,kBAAC,IAAK+B,KAAN,CAAW1B,UAAQ,GACjB,kBAAC,IAAD,CACEW,GAAG,WACHgB,OAAQ,kBAAC,IAAD,CAAMnG,KAAK,OAAOgG,MAAO,CAAEI,MAAO,qBAC1CC,YAAY,sBACZrG,KAAK,WACLsG,MAAO3B,EAAOP,SACdmC,SAAUZ,EACVa,OAAQZ,EACRrD,UACEiD,EAAOpB,UAAYmB,EAAQnB,SAAW,mBAAqB,eAG9DoB,EAAOpB,UAAYmB,EAAQnB,UAC1B,yBAAK7B,UAAU,kBAAkBiD,EAAOpB,WAI3CR,GACC,+BAAQ,uBAAGoC,MAAO,CAAEI,MAAO,YAAaK,SAAU,SAAUC,OAAQ,YAAaC,QAAS,OAAQC,aAAc,SAAWhD,IAG7H,kBAAC,IAAKsC,KAAN,KACE,kBAAC,IAAD,CAAUf,GAAG,aAAaoB,SAAUvC,EAAkB6C,QAAS/C,GAA/D,eACA,uBAAGvB,UAAU,oBAAoBC,KAAK,cAAcwD,MAAO,CAAEc,MAAO,UAApE,mBAGA,6BACE,kBAAC,IAAD,CAAQ9G,KAAK,UAAU+G,SAAS,SAASxE,UAAU,oBAAoByD,MAAO,CAAEgB,SAAU,QAAUC,SAAUxB,EAAcf,SAAUmB,GAAtI,WANJ,MAUK,uBAAGrD,KAAK,aAAR,0BC3Hb0E,EAAiB,CACrBC,SAAU,CACR9E,GAAI,CAAE+E,KAAM,IACZC,GAAI,CAAED,KAAM,IAEdE,WAAY,CACVjF,GAAI,CAAE+E,KAAM,IACZC,GAAI,CAAED,KAAM,MAGVG,EAAqB,CACzBD,WAAY,CACVjF,GAAI,CACF+E,KAAM,GACNI,OAAQ,GAEVH,GAAI,CACFD,KAAM,GACNI,OAAQ,KA2KCC,MAtKf,SAAsBlH,GACpB,IAAMI,EAAWC,cACjB,OAEE,kBAAC,IAAD,CACEsD,cAAe,CACbC,MAAO,GACPuD,SAAU,GACVC,KAAM,GACNvD,SAAU,GACVwD,gBAAiB,IAEnBvD,iBAAkBC,WAAaC,MAAM,CACnCoD,KAAMrD,WACHE,SAAS,oBACZkD,SAAUpD,WACPE,SAAS,yBACZL,MAAOG,WACJH,MAAM,oBACNK,SAAS,qBACZJ,SAAUE,WACPG,IAAI,EAAG,0CACPD,SAAS,wBACZoD,gBAAiBtD,WACduD,MAAM,CAACvD,MAAQ,YAAa,MAAO,wBACnCE,SAAS,kCAEdE,SAAU,SAACC,EAAD,GAAgC,IAArBC,EAAoB,EAApBA,cACnBC,YAAW,WAET,IAAItF,EAAe,CACjB4E,MAAOQ,EAAOR,MACdC,SAAUO,EAAOP,SACjBuD,KAAMhD,EAAOgD,KACbG,SAAUnD,EAAOmD,SACjBjF,MAAM,8BAAD,OAAgCK,MAAS6E,OAAzC,iBAGPpH,ELlEH,SAAsBpB,GAIzB,MAAO,CACHS,KCZqB,gBDarBC,QALYR,IAAMC,KAAN,UAAcL,EAAd,aAAqCE,GAChDK,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SKgEhBkI,CAAazI,IAAeK,MAAK,SAAAC,GACpCA,EAASI,QAAQsB,QACnBhB,EAAMS,QAAQC,KAAK,UAEnBgH,MAAMpI,EAASI,QAAQqF,IAAI4C,WAI/BtD,GAAc,KACb,QAGJ,SAAArE,GAAU,IAEPoE,EASEpE,EATFoE,OACAY,EAQEhF,EARFgF,QACAC,EAOEjF,EAPFiF,OAEAC,GAKElF,EANFmF,MAMEnF,EALFkF,cACAE,EAIEpF,EAJFoF,aACAC,EAGErF,EAHFqF,WACAC,EAEEtF,EAFFsF,aAEEtF,EADFuF,YAEF,OACE,yBAAKvD,UAAU,OACb,uCACA,kBAAC,IAAD,eAAMyD,MAAO,CAAEgB,SAAU,UAAeE,EAAxC,CAAwDxC,SAAUmB,IAEhE,kBAAC,IAAKK,KAAN,CAAW1B,UAAQ,EAAC2D,MAAM,QACxB,kBAAC,IAAD,CACEhD,GAAG,OACHkB,YAAY,kBACZrG,KAAK,OACLsG,MAAO3B,EAAOgD,KACdpB,SAAUZ,EACVa,OAAQZ,EACRrD,UACEiD,EAAOmC,MAAQpC,EAAQoC,KAAO,mBAAqB,eAGtDnC,EAAOmC,MAAQpC,EAAQoC,MACtB,yBAAKpF,UAAU,kBAAkBiD,EAAOmC,OAI5C,kBAAC,IAAKzB,KAAN,CAAW1B,UAAQ,EAAC2D,MAAM,aACxB,kBAAC,IAAD,CACEhD,GAAG,WACHkB,YAAY,uBACZrG,KAAK,OACLsG,MAAO3B,EAAO+C,SACdnB,SAAUZ,EACVa,OAAQZ,EACRrD,UACEiD,EAAOkC,UAAYnC,EAAQmC,SAAW,mBAAqB,eAG9DlC,EAAOkC,UAAYnC,EAAQmC,UAC1B,yBAAKnF,UAAU,kBAAkBiD,EAAOkC,WAI5C,kBAAC,IAAKxB,KAAN,CAAW1B,UAAQ,EAAC2D,MAAM,QAAQC,aAAW,EAACC,eAAgB7C,EAAOrB,OAASoB,EAAQpB,MAAQ,QAAU,WACtG,kBAAC,IAAD,CACEgB,GAAG,QACHkB,YAAY,mBACZrG,KAAK,QACLsG,MAAO3B,EAAOR,MACdoC,SAAUZ,EACVa,OAAQZ,EACRrD,UACEiD,EAAOrB,OAASoB,EAAQpB,MAAQ,mBAAqB,eAGxDqB,EAAOrB,OAASoB,EAAQpB,OACvB,yBAAK5B,UAAU,kBAAkBiD,EAAOrB,QAI5C,kBAAC,IAAK+B,KAAN,CAAW1B,UAAQ,EAAC2D,MAAM,WAAWC,aAAW,EAACC,eAAgB7C,EAAOpB,UAAYmB,EAAQnB,SAAW,QAAU,WAC/G,kBAAC,IAAD,CACEe,GAAG,WACHkB,YAAY,sBACZrG,KAAK,WACLsG,MAAO3B,EAAOP,SACdmC,SAAUZ,EACVa,OAAQZ,EACRrD,UACEiD,EAAOpB,UAAYmB,EAAQnB,SAAW,mBAAqB,eAG9DoB,EAAOpB,UAAYmB,EAAQnB,UAC1B,yBAAK7B,UAAU,kBAAkBiD,EAAOpB,WAI5C,kBAAC,IAAK8B,KAAN,CAAW1B,UAAQ,EAAC2D,MAAM,UAAUC,aAAW,GAC7C,kBAAC,IAAD,CACEjD,GAAG,kBACHkB,YAAY,6BACZrG,KAAK,WACLsG,MAAO3B,EAAOiD,gBACdrB,SAAUZ,EACVa,OAAQZ,EACRrD,UACEiD,EAAOoC,iBAAmBrC,EAAQqC,gBAAkB,mBAAqB,eAG5EpC,EAAOoC,iBAAmBrC,EAAQqC,iBACjC,yBAAKrF,UAAU,kBAAkBiD,EAAOoC,kBAI5C,kBAAC,IAAK1B,KAASqB,EACb,kBAAC,IAAD,CAAQe,QAASzC,EAAc7F,KAAK,UAAUiH,SAAUxB,GAAxD,iB,SC3LA8C,IAAKC,QACCD,IAAKE,UAeZC,MAbf,SAAkBnI,GAChB,OACE,kBAAC,IAAD,CAAMoI,KAAMpI,EAAMoI,MAClB,kBAAC,IAAKzC,KAAN,CAAW5D,IAAI,QACb,uBAAGE,KAAK,KAAR,SAEF,kBAAC,IAAK0D,KAAN,CAAW5D,IAAI,aACb,uBAAGE,KAAK,cAAR,gBCkCSgB,mBAtCf,SAAmBjD,GACjB,IAAMC,EAAOC,aAAY,SAAAC,GAAK,OAAIA,EAAMF,QAYxC,OAAIA,EAAKoI,WAAapI,EAAKoI,SAAS9H,OAEhC,kBAAC,IAAD,CAAM6H,KAAMpI,EAAMoI,MAChB,kBAAC,IAAKzC,KAAN,CAAW5D,IAAI,QACb,uBAAGE,KAAK,UAAR,WAEF,kBAAC,IAAK0D,KAAN,CAAW5D,IAAI,OACb,uBAAGE,KAAK,aAAR,YAMJ,kBAAC,IAAD,CAAMmG,KAAMpI,EAAMoI,MAChB,kBAAC,IAAKzC,KAAN,CAAW5D,IAAI,UACb,uBAAGE,KAAK,iBAAR,WAEF,kBAAC,IAAK0D,KAAN,CAAW5D,IAAI,UACb,uBAAGgG,QA5BW,WACpB7I,IAAMC,KAAN,UAAcL,EAAd,WAAmC,GAAG,CAACM,iBAAgB,IAAOC,MAAK,SAAAC,GACzC,MAApBA,EAASgJ,OACXtI,EAAMS,QAAQC,KAAK,UAEnBgH,MAAM,uBAuBJ,e,gBCaKa,MA9Cf,WAAmB,IAAD,EACc3H,oBAAS,GADvB,mBACT4H,EADS,KACAC,EADA,KAWhB,OACE,yBAAKzG,UAAU,OAAOyD,MAAO,CAAEiD,SAAU,QAASC,OAAQ,EAAGjD,MAAO,SAClE,yBAAK1D,UAAU,cACb,uBAAGC,KAAK,KAAR,UAEF,yBAAKD,UAAU,mBACb,yBAAKA,UAAU,aACb,kBAAC,EAAD,CAAUoG,KAAK,gBAEjB,yBAAKpG,UAAU,cACb,kBAAC,EAAD,CAAWoG,KAAK,gBAElB,kBAAC,IAAD,CACEpG,UAAU,sBACVvC,KAAK,UACLsI,QAvBW,WACjBU,GAAW,KAwBL,kBAAC,IAAD,CAAMhJ,KAAK,iBAEb,kBAAC,IAAD,CACE8C,MAAM,eACNqG,UAAU,QACV5G,UAAU,cACV6G,UAAU,EACVC,QA5BQ,WACdL,GAAW,IA4BLD,QAASA,GAET,kBAAC,EAAD,CAAUJ,KAAK,WACf,kBAAC,EAAD,CAAWA,KAAK,eC9BXW,MAZf,WACI,OACI,yBAAKtD,MAAO,CACRuD,OAAQ,OAAQC,QAAS,OACzBC,cAAe,SAAUC,WAAY,SACrCC,eAAgB,SAAUlD,SAAS,SAEpC,6CAAkB,kBAAC,IAAD,CAAMzG,KAAK,a,2BC4CvB4J,EA7CF,SAACrJ,GAAS,IAAD,EACqBY,mBAAS,IAD9B,mBACC0I,GADD,aAEW1I,mBAAS,GAFpB,gCAGoBA,mBAAS,KAH7B,mBAGb2I,EAHa,KAGCC,EAHD,KAKdC,EAASC,uBAAY,SAAAC,GACzB,IAAMC,EAAW,IAAIC,SACrBD,EAASE,OAAO,YAAYH,EAAc,IAK1CzK,IAAMC,KAAN,UAAcJ,EAAd,qBAA0C6K,EAJ3B,CACbG,OAAS,CAAC,eAAgB,yBAIzB1K,MAAK,SAAAC,GACJ,GAAIA,EAASC,KAAKyB,QAAS,CAAC,IAAD,EACU1B,EAA5BC,KAAMyK,EADY,EACZA,SAASC,EADG,EACHA,SAChBC,EAAO,CAACF,WAAUC,YACxBX,EAAiBU,GACjB9K,IAAMC,KAAN,UAAcJ,EAAd,oBAAyCmL,GACtC7K,MAAK,SAAAC,GACJ,GAAIA,EAASC,KAAKyB,QAAS,CAAC,IAAD,EACqB1B,EAAtCC,KAAQ4K,EADS,EACTA,cAAcC,EADL,EACKA,aAC9BZ,EAAiBW,GAEjBnK,EAAMqK,YAAY,CAACL,WAASG,gBAAcC,2BAMrD,IA9BiB,EA+BkBE,YAAY,CAACb,WAA5Cc,EA/Ba,EA+BbA,aAAcC,EA/BD,EA+BCA,cACrB,OACE,kBAAC,WAAD,KACE,uCAAKxI,UAAU,YAAeuI,KAC5B,0BAAWC,KACP,kBAACC,EAAA,EAAD,CAAehF,MAAO,CAACS,SAAS,WAEtC,yBAAKlE,UAAU,sBACZuH,GAAgB,yBAAKpH,IAAG,UAAKpD,EAAL,YAAiBwK,GAAiBmB,IAAI,a,OC6D1DC,MAtGf,SAAyB3K,GACrB,IACOqI,EADMnI,aAAY,SAAAC,GAAK,OAAIA,EAAMF,QACjCoI,SAFqB,EAGHzH,mBAAS,IAHN,mBAGrBmC,EAHqB,KAGf6H,EAHe,OAIShK,mBAAS,IAJlB,mBAIrBiK,EAJqB,KAITC,EAJS,OAKGlK,mBAAS,GALZ,mBAKrBmK,EALqB,KAKZC,EALY,OAMapK,mBAAS,IANtB,mBAMrBqK,EANqB,KAMP3B,EANO,OAOG1I,mBAAS,GAPZ,mBAOrBsK,EAPqB,KAOZC,EAPY,OAQYvK,mBAAS,IARrB,mBAQrB2I,EARqB,KAQPC,EARO,KAkBtB4B,EARW,CACb,CAAC9J,MAAM,EAAGyE,MAAM,oBAChB,CAACzE,MAAM,EAAGyE,MAAM,UAChB,CAACzE,MAAM,EAAGyE,MAAM,yBAChB,CAACzE,MAAM,EAAGyE,MAAM,eAChB,CAACzE,MAAM,EAAGyE,MAAM,UAChB,CAACzE,MAAM,EAAGyE,MAAM,mBAEU3E,KAAI,SAACiK,EAAa/J,GAAd,OAClC,4BAAQS,IAAKT,EAAOyE,MAAOsF,EAAa/J,OAAQ+J,EAAatF,UAgCvDuF,EAAe,SAACC,GAClB,IAAMnE,EAAOmE,EAAEC,OAAOpE,KAChBrB,EAAQwF,EAAEC,OAAOzF,MACvB,OAAQqB,GACJ,IAAK,QACDwD,EAAS7E,GACT,MACJ,IAAK,cACD+E,EAAe/E,KAe3B,OACI,6BACI,yBAAK/D,UAAU,oBACX,wBAAIA,UAAU,gBAAd,gBAEA,0BAAMA,UAAU,wBAAwBmC,SAzDlC,SAACoH,GAGf,GAFAA,EAAEE,iBAEY,KAAV1I,GAAgC,KAAhB8H,GACP,KAAbE,GAAqC,KAAlBE,GACN,KAAbC,GAAqC,KAAlB3B,EACnB,OAAO7B,MAAM,gFAEb,IAAMwC,EAAM,CACR7H,OAASgG,EAASnG,IAClBK,MAAOQ,EACPP,YAAaqI,EACba,SAAUX,EACVf,SAAWiB,EACX7I,UAAWmH,EACX7H,SAAUwJ,GAEdhM,IAAMC,KAAN,UAAcJ,EAAd,sBAA2CmL,GACtC7K,MAAK,SAAAC,GACEA,EAASC,KAAKyB,SACd0G,MAAM,8EACNpD,YAAW,WACPtE,EAAMS,QAAQC,KAAK,OACrB,MAEFgH,MAAM,6BAkCN,yBAAK1F,UAAU,sBACX,kBAAC,EAAD,CAAUqI,YAdX,SAACsB,GAAsB,IAClC3B,EAAuC2B,EAAvC3B,SAASG,EAA8BwB,EAA9BxB,cAAcC,EAAgBuB,EAAhBvB,aAC9Bd,EAAiBU,GACjBR,EAAiBW,GACjBgB,EAAYf,OAcG,2BAAOwB,QAAQ,SAAf,UACA,2BAAOxE,KAAK,QAAQxC,GAAG,QAAQoB,SAAUsF,EAAgBvF,MAAOhD,EAAO+C,YAAY,gBAEnF,2BAAO8F,QAAQ,eAAf,gBACA,8BAAUxE,KAAK,cAAcxC,GAAG,cAAcoB,SAAUsF,EAAgBvF,MAAO8E,EAAa/E,YAAY,sBAExG,4BAAQC,MAAOgF,EAAU/E,SA3BpB,SAACuF,GAClBP,EAAYO,EAAEC,OAAOzF,SA2BJqF,GAEL,oD,uBC3DLS,MArCf,SAAmB7L,GAAQ,IAAD,EACWY,mBAAS,IADpB,mBACfkL,EADe,KACJC,EADI,KAEtBzL,qBAAU,WACNpB,IAAM6B,IAAN,UAAahC,EAAb,qBACKM,MAAK,SAAAC,GACEA,EAASC,KAAKyB,QACd+K,EAAc,YAAIzM,EAASC,KAAK0B,SAEhCyG,MAAM,oHAGnB,IACH,IAAMsE,EAAmBF,GAAcA,EAAW1K,KAAI,SAAC6K,EAAc3K,GACjE,IAAMC,EAAUC,KAAKC,MAAMwK,EAAcvK,SAAS,IAC5CwK,EAAU1K,KAAKC,MAAMwK,EAAcvK,SAAkB,GAARH,GACnD,OACA,yBAAKS,UAAU,sBAAsBD,IAAKT,GACtC,yBAAKU,UAAU,uBACX,uBAAGC,KAAI,iBAAYgK,EAAc/J,MAC7B,yBAAKC,IAAG,UAAKpD,EAAL,YAAiBkN,EAAc7J,eAG/C,yBAAKJ,UAAU,kBACX,8BAAOiK,EAAc5J,OAAO+E,MAC5B,8BAAO6E,EAAcxJ,MAAM,GAAKwJ,EAAcxJ,MAAM,EAA7C,UACJwJ,EAAcxJ,MADV,oBAC8BwJ,EAAcxJ,MAD5C,UAEP,8BAAOlB,EAAP,IAAiB2K,QAI7B,OACI,kBAAC,WAAD,KACKF,I,OCmCEG,MApEf,SAAmBnM,GAAQ,IACfoM,EAAkBpM,EAAlBoM,OAAOC,EAAWrM,EAAXqM,SADO,EAEuBzL,mBAAS,GAFhC,mBAEf0L,EAFe,KAECC,EAFD,OAGa3L,oBAAS,GAHtB,mBAGf4L,EAHe,KAGJC,EAHI,KAuDtB,OAlDAnM,qBAAU,WAEN,IAAM4J,EAAO,CAAEkC,UACflN,IAAMC,KAAN,UAAcJ,EAAd,iCAAsDmL,GACjD7K,MAAK,SAAAC,GACF,GAAIA,EAASC,KAAKyB,QAAS,CAAC,IACV0L,EAAoBpN,EAA3BC,KAAOmN,gBACdH,EAAmBG,QAEnBhF,MAAM,4GAGlB,IAAMiF,EAAqB,CAACP,SAAOC,YACnCnN,IAAMC,KAAN,UAAcJ,EAAd,yBAA8C4N,GACzCtN,MAAK,SAAAC,GACF,GAAIA,EAASC,KAAKyB,QAAS,CAAC,IACX4L,EAAetN,EAArBC,KAAMqN,WACbH,EAAcG,QAEdlF,MAAM,2FAGpB,IA6BE,kBAAC,WAAD,KACI,4BACIK,QA7BY,WACpB,IAAMmC,EAAO,CAACkC,SAAOC,YACjBG,EAEAtN,IAAMC,KAAN,UAAcJ,EAAd,kCAAuDmL,GAClD7K,MAAK,SAAAC,GACEA,EAASC,KAAKyB,SACduL,EAAmBD,EAAgB,GACnCG,GAAeD,IAEf9E,MAAM,2EAKlBxI,IAAMC,KAAN,UAAcJ,EAAd,6BAAkDmL,GAC7C7K,MAAK,SAAAC,GACEA,EAASC,KAAKyB,SACduL,EAAmBD,EAAgB,GACnCG,GAAeD,IAEf9E,MAAM,4EASd1F,UAAU,gBACVyD,MAAO,CAACoH,gBAAgB,GAAD,OAAIL,EAAa,OAAO,SAE9CF,EALL,KAKwBE,EAAa,4BAAU,kB,yDCkE5CM,OAzHf,SAAqB9M,GAAQ,IAAD,EACWY,mBAAS,GADpB,mBACjBmM,EADiB,KACNC,EADM,OAEgBpM,mBAAS,GAFzB,mBAEjBqM,EAFiB,KAEHC,EAFG,OAGDtM,mBAAS,MAHR,mBAGjBuM,EAHiB,KAGZC,EAHY,OAIKxM,mBAAS,MAJd,mBAIjByM,EAJiB,KAITC,EAJS,KAKjBC,EAAiCvN,EAAjCuN,MAAMC,EAA2BxN,EAA3BwN,QAAQ7I,EAAmB3E,EAAnB2E,OAAO8I,EAAYzN,EAAZyN,UACxBvD,EAAO,GAEPA,EADAqD,EACO,CAACC,WAED,CAACC,aAGZnN,qBAAU,WACNpB,IAAMC,KAAN,UAAcJ,EAAd,uBAA4CmL,GACvC7K,MAAK,SAAAC,GACF,GAAIA,EAASC,KAAKyB,QAAS,CAAC,IACR0M,EAAQpO,EAAhBC,KAAQmO,KAChBV,EAAcU,EAAKvM,QACnBuM,EAAKtM,KAAI,SAACuM,GACFA,EAAShJ,SAAWA,GAAQyI,EAAQ,gBAG5C1F,MAAM,4GAGlBxI,IAAMC,KAAN,UAAcJ,EAAd,0BAA+CmL,GAC1C7K,MAAK,SAAAC,GACF,GAAIA,EAASC,KAAKyB,QAAS,CAAC,IACR4M,EAAWtO,EAAnBC,KAAQqO,QAChBV,EAAiBU,EAAQzM,QACzByM,EAAQxM,KAAI,SAACyM,GACLA,EAAYlJ,SAAWA,GAAQ2I,EAAW,mBAGlD5F,MAAM,8GAGpB,IAEF,IAAMoG,EAAW,WACb,IAAI5D,EAAO,GAEPA,EADAqD,EACO,CAACC,UAAQ7I,UAET,CAAC8I,YAAU9I,UAET,SAATwI,EACAjO,IAAMC,KAAN,UAAcJ,EAAd,gBAAqCmL,GAChC7K,MAAK,SAAAC,GACEA,EAASC,KAAKyB,UACdgM,EAAcD,EAAW,GACzBK,EAAQ,UAIpBlO,IAAMC,KAAN,UAAcJ,EAAd,gBAAqCmL,GACpC7K,MAAK,SAAAC,GACF8N,EAAQ,QACRJ,EAAcD,EAAW,GACrBzN,EAASC,KAAKyB,SACE,YAAZqM,IACAC,EAAW,MACXJ,EAAiBD,EAAc,QAO7Cc,EAAc,WAChB,IAAI7D,EAAO,GAEPA,EADAqD,EACO,CAACC,UAAQ7I,UAET,CAAC8I,YAAU9I,UAEN,YAAZ0I,EACAnO,IAAMC,KAAN,UAAcJ,EAAd,mBAAwCmL,GACnC7K,MAAK,SAAAC,GACEA,EAASC,KAAKyB,UACdkM,EAAiBD,EAAc,GAC/BK,EAAW,UAIvBpO,IAAMC,KAAN,UAAcJ,EAAd,mBAAwCmL,GACnC7K,MAAK,SAAAC,GACEA,EAASC,KAAKyB,UACdsM,EAAW,WACXJ,EAAiBD,EAAc,GAClB,SAATE,IACAH,EAAcD,EAAW,GACzBK,EAAQ,YAMhC,OACI,yBAAK3H,MAAO,CAACwD,QAAQ,OAAOE,WAAW,WACnC,kBAAC,IAAD,CAAS5G,MAAM,QACD,SAAT4K,EACG,kBAACa,EAAA,EAAD,CAAYjG,QAAS+F,EAAYrI,MAAO,CAACS,SAAS,YAElD,kBAAC+H,GAAA,EAAD,CAAclG,QAAS+F,EAAYrI,MAAO,CAACS,SAAS,YAExD,0BAAMT,MAAO,CAACyI,OAAO,OAAO9H,QAAQ,UAAW2G,IAEnD,kBAAC,IAAD,CAASxK,MAAM,WACE,YAAZ8K,EACG,kBAACc,GAAA,EAAD,CAAepG,QAASgG,EAAetI,MAAO,CAACS,SAAS,YAExD,kBAACkI,GAAA,EAAD,CAAiBrG,QAASgG,EAAetI,MAAO,CAACS,SAAS,YAE9D,0BAAMT,MAAO,CAACyI,OAAO,OAAO9H,QAAQ,UAAW6G,MCbhDoB,OA3Gf,SAAuBrO,GAAQ,IACpBsO,EAA+BtO,EAA/BsO,QAAQd,EAAuBxN,EAAvBwN,QAAQe,EAAevO,EAAfuO,cAEhBlG,EADMnI,aAAY,SAAAC,GAAK,OAAEA,EAAMF,QAC/BoI,SACD1D,EAASxB,aAAaC,QAAQ,UAJV,EAKWxC,oBAAS,GALpB,mBAKnB4N,EALmB,KAKPC,EALO,OAMa7N,mBAAS,IANtB,mBAMnB8N,EANmB,KAMNC,EANM,KAQpBC,EAAoB,WACtBH,GAAgBD,IAEdK,EAAgB,SAACtD,GACnBA,EAAEE,iBACF,IAAMqD,EAAiB,CACnBtB,QAAUA,EACVnL,OAAUgG,EAASnG,IACnB6M,QAAUL,EACVM,WAAaV,EAAQpM,KAEzBhD,IAAMC,KAAN,UAAcJ,EAAd,wBAA6C+P,GACxCzP,MAAK,SAAAC,GACF,GAAIA,EAASC,KAAKyB,QAAS,CAAC,IACRiO,EAAgB3P,EAAxBC,KAAQ0P,YAChBV,EAAcU,GACdN,EAAgB,SAI1BO,EAAiB,SAAC3D,GACpBoD,EAAgBpD,EAAEC,OAAOzF,QAiCvBoJ,EAAgB,WAClB,IAAMH,EAAaV,EAAQU,WACrB3M,EAASc,aAAaC,QAAQ,UAEpClE,IAAMC,KAAN,UAAcJ,EAAd,0BAA+C,CAACsD,SAAO2M,aAAWxB,YAC7DnO,MAAK,SAAAC,GACF,GAAIA,EAASC,KAAKyB,QAAS,CAAC,IACboO,EAAiB9P,EAAvBC,KAAM6P,eAEXC,QAAQC,IAAI,iBAAiBF,GACxBA,IAAgBA,EAAe,IACpCb,EAAca,QAEd1H,MAAM,oFAwBtB,OACI,yBAAK1F,UAAU,2BAnBXsM,EAAQjM,QACR,yBAAKL,UAAU,iBACX,yBAAKA,UAAU,4BACX,yBAAKA,UAAU,uBAAuBG,IAAKmM,EAAQjM,OAAOC,QAC1D,yBAAKN,UAAU,eACX,8BAAOsM,EAAQjM,OAAO+E,MACtB,2BAAIkH,EAAQS,WAGpB,yBAAK/M,UAAU,wBACX,uBAAG+F,QAAS6G,GAAZ,6BAECjK,IAAW2J,EAAQjM,OAAOH,KAAM,4BAAQF,UAAU,qBAAqB+F,QAASoH,GAAhD,6BAChCxK,GAAU,kBAAC,GAAD,CAAa8I,UAAWa,EAAQpM,IAAKsL,QAASA,EAAS7I,OAAQA,MAQ7E6J,GAAenG,GAtET,WACf,GAAIA,EAASnG,IAAK,CACDmG,EAASnG,IACtB,OACI,0BAAMiC,SAAU0K,EAAe7M,UAAU,qBACrC,8BAAUA,UAAU,wBAChB+D,MAAO2I,EACP1I,SAAUkJ,EACVpJ,YAAY,sDAEf0I,GACG,yBAAKxM,UAAU,oBACX,4BAAQA,UAAU,aAAa+F,QAAS6G,GAAxC,gBACA,kDAMhB,OACI,0BAAMzK,SAAU0K,EAAe7M,UAAU,qBACzC,8BAAUA,UAAU,wBAChB+D,MAAO2I,EACP1I,SAAUkJ,EACVpJ,YAAY,+FA8CYyJ,KC1E7BC,OAhCf,SAASA,EAAaxP,GAAQ,IAEnByP,EAA4CzP,EAA5CyP,YAAYC,EAAgC1P,EAAhC0P,SAASlC,EAAuBxN,EAAvBwN,QAAQe,EAAevO,EAAfuO,cAFX,EAGc3N,mBAAS,GAHvB,mBAGpB+O,EAHoB,KAGNC,EAHM,OAIQhP,oBAAS,GAJjB,mBAIlBiP,EAJkB,KAIRC,EAJQ,KAUnBC,EAAqBN,GAAeA,EAAYrO,KAAI,SAAC6N,EAAY3N,GAGnE,OAFI2N,EAAYD,aAAeU,GAAUC,IACrCrO,IAAUmO,EAAYtO,QAASyO,EAAiBD,GAEhDV,EAAYD,aAAeU,GAC3B,kBAAC,WAAD,CAAU3N,IAAKT,GACX,yBAAKU,UAAU,qBACX,kBAAC,GAAD,CAAeuM,cAAeA,EAAeD,QAASW,EAAazB,QAASA,IAC5E,kBAACgC,EAAD,CAAcC,YAAaA,EAAajC,QAASA,EAASe,cAAeA,EAAemB,SAAUT,EAAY/M,WAM9H,OACI,yBAAKF,UAAU,2BACV2N,EAAe,GAAK,uBAAG5H,QApBZ,WAChB+H,GAAcD,KAmBW,QAA+BF,EAA/B,eACpBE,GAAWE,IC4DTC,OAnFf,SAAiBhQ,GACb,IACOqI,EADMnI,aAAY,SAAAC,GAAK,OAAEA,EAAMF,QAC/BoI,SACAmF,EAAqCxN,EAArCwN,QAAQiC,EAA6BzP,EAA7ByP,YAAYlB,EAAiBvO,EAAjBuO,cAHP,EAImB3N,mBAAS,IAJ5B,mBAIb8N,EAJa,KAIAC,EAJA,OAKiB/N,oBAAS,GAL1B,mBAKbqP,EALa,KAKDC,EALC,KAOdhB,EAAiB,SAAC3D,GACpBoD,EAAgBpD,EAAEC,OAAOzF,QAGvB8I,EAAgB,SAACtD,GACnBA,EAAEE,iBACF,IAAM0E,EAAkB,CACpB3C,QAAUA,EACVnL,OAASgG,EAASnG,IAClB6M,QAAUL,GAEdxP,IAAMC,KAAN,UAAcJ,EAAd,wBAA6CoR,GACxC9Q,MAAK,SAAAC,GACF,GAAIA,EAASC,KAAKyB,QAAS,CAAC,IACTiO,EAAgB3P,EAAxBC,KAAQ0P,YACfV,EAAcU,GACdN,EAAgB,IAChBuB,GAAe,QAEfxI,MAAM,6EAIhB0I,EAAiBX,GAAeA,EAAYrO,KAC9C,SAAC6N,EAAY3N,GAAb,OACK2N,EAAYD,YACb,kBAAC,WAAD,CAAUjN,IAAKT,GACX,kBAAC,GAAD,CAAeiN,cAAeA,EAAeD,QAASW,EAAazB,QAASA,IAC5E,kBAAC,GAAD,CAAciC,YAAaA,EAAajC,QAASA,EAASe,cAAeA,EAAemB,SAAUT,EAAY/M,UAIpHmO,EAAgB,WAAMH,GAAgBD,IAkC5C,OACI,6BACI,2CACA,6BACC5H,GApCU,WACf,GAAIA,EAASnG,IAAK,CACDmG,EAASnG,IACtB,OACI,0BAAMiC,SAAU0K,EAAe7M,UAAU,qBACrC,8BAAUA,UAAU,wBAChB+D,MAAO2I,EACP1I,SAAUkJ,EACVnH,QAASsI,EACTvK,YAAY,sDAEfmK,GACG,yBAAKjO,UAAU,oBACX,4BAAQA,UAAU,aAAa+F,QAASsI,GAAxC,gBACA,kDAMhB,OACI,0BAAMlM,SAAU0K,EAAe7M,UAAU,qBACzC,8BAAUA,UAAU,wBAChB+D,MAAO2I,EACP1I,SAAUkJ,EACVnH,QAASsI,EACTvK,YAAY,+FAUTyJ,GACVa,ICuBEE,OAlGf,SAAyBtQ,GAAQ,IACHwN,EAAYxN,EAA/BuQ,MAASC,OAAUhD,QADE,EAEG5M,mBAAS,IAFZ,mBAErB6P,EAFqB,KAEZC,EAFY,OAGK9P,mBAAS,IAHd,mBAGrB+P,EAHqB,KAGXC,EAHW,KAItBjM,EAAOxB,aAAaC,QAAQ,UA6ElC,OA5EA9C,qBAAU,WACN,IAAM4J,EAAM,CACRsD,WAEJtO,IAAMC,KAAN,UAAcJ,EAAd,yBAA8CmL,GACzC7K,MAAK,SAAAC,GACEA,EAASC,KAAKyB,QACd4P,EAAatR,EAASC,KAAK8B,WAE3BqG,MAAM,kHAGlBxI,IAAMC,KAAN,UAAcJ,EAAd,wBAA6CmL,GACxC7K,MAAK,SAAAC,GACF,GAAIA,EAASC,KAAKyB,QAAS,CAAC,IACRyO,EAAgBnQ,EAAxBC,KAAQkQ,YAChBiB,EAAY,YAAIjB,SAEhB/H,MAAM,8GAGnB,IAwDC,yBAAK1F,UAAU,yBACX,kBAAC,IAAD,CAAKc,OAAQ,CAAC,GAAG,KACb,kBAAC,IAAD,CAAKlB,GAAI,GAAIE,GAAI,IApCrB6O,EAAUtO,OAEN,kBAAC,WAAD,KACI,yBAAKL,UAAU,mBACX,2BAAOG,IAAG,UAAKpD,EAAL,YAAiB4R,EAAU3G,UAAY6G,UAAQ,KAE7D,yBAAK7O,UAAU,wBACX,0BAAMA,UAAU,+BAA8B,yBAAKG,IAAKwO,EAAUtO,OAAOC,SACzE,yBAAKN,UAAU,cACX,4BAAK2O,EAAUtO,OAAO+E,MACtB,8BAAOuJ,EAAUnO,cAGrB,yBAAKR,UAAU,wBACV2C,GAAU,kBAAC,GAAD,CAAa4I,OAAK,EAACC,QAASA,EAAS7I,OAAQA,IACvDA,GAASA,IAASgM,EAAUtO,OAAOH,KACpC,kBAAC,EAAD,CAAWkK,OAAQuE,EAAUtO,OAAOH,IAAKmK,SAAUlJ,aAAaC,QAAQ,aAI5EuB,IAAWgM,EAAUtO,OAAOH,KAAM,4BAAQF,UAAU,mBAAmB+F,QAAS,kBAjChF,SAAC+I,GACjB,IAAI5G,EAAO,CAAC4G,WAAStD,WACrBtO,IAAMC,KAAN,UAAcJ,EAAd,sBAA2CmL,GACtC7K,MAAK,SAAAC,GACEA,EAASC,KAAKyB,QAEdhB,EAAMS,QAAQC,KAAK,KAEnBgH,MAAM,kFAyBkFqJ,CAAYpM,KAA9D,kBAO1C,kBAAC,WAAD,KACI,yBAAKc,MAAO,CAACwD,QAAQ,OAAOG,eAAe,SAASD,WAAW,WAA/D,eAYA,kBAAC,GAAD,CAASoF,cA5DH,SAACyC,GAEnB,GAAIA,EAAW7P,OAAQ,OAAOuP,EAAY,YAAIM,IAE9CN,EAAY,GAAD,mBAAKD,GAAL,CAAcO,MAwD0BvB,YAAagB,EAAUjD,QAASA,KAE3E,kBAAC,IAAD,CAAK5L,GAAI,EAAGE,GAAI,IACZ,kBAAC,EAAD,UC5CLmP,OAnDf,WAA0B,IAAD,EACsBrQ,mBAAS,IAD/B,mBACdsQ,EADc,KACCC,EADD,KAErB7Q,qBAAU,WACN,IAAM4J,EAAO,CACTmC,SAAWlJ,aAAaC,QAAQ,WAEpClE,IAAMC,KAAN,UAAcJ,EAAd,gCAAqDmL,GAChD7K,MAAK,SAAAC,GACF,GAAIA,EAASC,KAAKyB,QAAS,CAAC,IACToQ,EAAoB9R,EAA5BC,KAAQ6R,gBACfD,EAAkBC,QAElB1J,MAAM,6IAGnB,IACH,IAAMxG,EAAcgQ,GAAkBA,EAAe9P,KAAI,SAACC,EAAUC,GAChE,IAAMC,EAAUC,KAAKC,MAAMJ,EAAUK,SAAS,IACxCC,EAAUH,KAAKC,MAAMJ,EAAUK,SAAoB,GAARH,GACpD,OAAQ,kBAAC,IAAD,CAAKK,GAAI,EAAGC,GAAI,EAAGC,GAAI,GAAIC,IAAKT,GAC7B,yBAAKU,UAAU,2BACX,uBAAGC,KAAI,iBAAYZ,EAAUa,MACzB,yBAAKC,IAAG,UAAKpD,EAAL,YAAiBsC,EAAUe,aACnC,0BAAMJ,UAAU,0BAAhB,UAA6CT,EAA7C,YAAwDI,MAGhE,yBAAKK,UAAU,gCACX,yBAAKA,UAAU,kCACX,yBAAKG,IAAG,UAAKd,EAAUgB,OAAOC,UAElC,yBAAKN,UAAU,sBACX,8BAAOX,EAAUkB,OACjB,8BAAOlB,EAAUmB,aACjB,6BACI,8BAAyB,IAAlBnB,EAAUoB,OAAapB,EAAUqB,KAAK,EAAtC,UAA6CrB,EAAUoB,MAAvD,oBAAyEpB,EAAUoB,MAAnF,UACP,oCAAUE,IAAOtB,EAAUuB,WAAWC,OAAO,qBAMrE,OACI,yBAAKb,UAAU,yBACX,wBAAIA,UAAU,qBAAd,oBACA,kBAAC,IAAD,CAAKc,OAAQ,CAAC,GAAG,KACZ5B,KCnBFmQ,OAnBf,WACE,OACE,kBAAC,WAAD,CAAUC,SAAW,4CACnB,kBAAC,EAAD,MACA,yBAAK7L,MAAO,CAAE8L,WAAY,OAAQC,UAAW,uBAC3C,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,UAAWC,EAAKjR,EAAa,QACnD,kBAAC,IAAD,CAAO8Q,OAAK,EAACC,KAAK,SAASC,UAAWC,EAAKC,GAAW,KACtD,kBAAC,IAAD,CAAOJ,OAAK,EAACC,KAAK,YAAYC,UAAWC,EAAK1K,GAAc,KAC5D,kBAAC,IAAD,CAAOuK,OAAK,EAACC,KAAK,gBAAgBC,UAAWC,EAAKjH,GAAgB,KAClE,kBAAC,IAAD,CAAO8G,OAAK,EAACC,KAAK,kBAAkBC,UAAWC,EAAKtB,GAAgB,QACpE,kBAAC,IAAD,CAAOmB,OAAK,EAACC,KAAK,aAAaC,UAAWC,EAAKX,IAAc,OAGjE,kBAAC,EAAD,Q,8BCpBSa,GAJKC,aAAgB,CAChC9R,KCIW,WAA0B,IAAjBE,EAAgB,uDAAV,GAAG6R,EAAO,uCACpC,OAAOA,EAAOvS,MACV,IrBTqB,gBqBUjB,OAAO,gBAAIU,EAAX,CAAkB8R,SAAUD,EAAOtS,UACvC,IrBZkB,aqBad,OAAO,gBAAKS,EAAZ,CAAmB+R,YAAaF,EAAOtS,UAC3C,IrBZiB,YqBab,OAAO,gBAAIS,EAAX,CAAkBkI,SAAU2J,EAAOtS,UACvC,IrBbmB,cqBcf,OAAO,gBAAIS,GACf,QACI,OAAOA,M,+BCHbgS,GAA4BC,aAAgBC,KAAmBC,KAAnCF,CAA+CG,MAEjFC,IAASC,OACL,kBAAC,IAAD,CACIC,MAAOP,GACHQ,GACAlO,OAAOmO,8BACPnO,OAAOmO,iCAGX,kBAAC,KAAD,KACI,kBAAC,GAAD,QAGNC,SAASC,eAAe,W","file":"static/js/main.585981fa.chunk.js","sourcesContent":["export const USER_SERVER = 'http://localhost:5000/users'\r\nexport const CORS_URL = 'http://localhost:5000'","import Axios from 'axios';\nimport {\n    LOGIN_USER,\n    REGISTER_USER,\n    AUTH_USER,\n} from './types';\nimport { USER_SERVER } from '../components/Config.js';\n\nexport function registerUser(dataToSubmit){\n    const request = Axios.post(`${USER_SERVER}/register`,dataToSubmit)\n        .then(response => response.data);\n    \n    return {\n        type: REGISTER_USER,\n        payload: request\n    }\n}\n\nexport async function loginUser(dataToSubmit){\n    const request =await Axios.post(`${USER_SERVER}/login`,dataToSubmit,{withCredentials:true})\n                .then(response => response.data);\n    return {\n        type: LOGIN_USER,\n        payload: request\n    }\n}\n\nexport async function auth(){\n    const request =await Axios.post(`${USER_SERVER}/auth`,{},{withCredentials:true})\n    .then(response => response.data);\n\n    return {\n        type: AUTH_USER,\n        payload: request\n    }\n}\n\n\n","export const LOGIN_USER = 'login_user';\nexport const REGISTER_USER = 'register_user';\nexport const AUTH_USER = 'auth_user';\nexport const LOGOUT_USER = 'logout_user';\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useEffect } from 'react';\nimport { auth } from '../_actions/user_actions';\nimport { useSelector, useDispatch } from \"react-redux\";\n\nexport default function (SpecificComponent, option, adminRoute = null) {\n    function AuthenticationCheck(props) {\n\n        let user = useSelector(state => state.user);\n        const dispatch = useDispatch();\n        useEffect(() => {\n            dispatch(auth()).then(response => {\n                if (!response.payload.isAuth) {\n                    if (option) {\n                        props.history.push('/login')\n                    }\n                } else {\n                    if (adminRoute && !response.payload.isAdmin) {\n                        props.history.push('/')\n                    }\n                    else {\n                        if (option === false) {\n                            props.history.push('/')\n                        }\n                    }\n                }\n            })\n\n        }, [])\n\n        return (\n            <SpecificComponent {...props} user={user} />\n        )\n    }\n    return AuthenticationCheck\n}\n\n\n","import React,{useEffect,useState} from 'react'\nimport './LandingPage.css';\nimport Axios from 'axios'\nimport {Row,Col} from 'antd';\nimport moment from 'moment';\nimport { CORS_URL } from '../../Config';\n\nfunction LandingPage() {\n    const [Videos,setVideos] = useState([]);\n    useEffect(() => {\n        Axios.get(`${CORS_URL}/video/getVideos`)\n            .then(response=>{\n                if (response.data.success) {\n                    const { data : {videos}} =response;\n                    setVideos(videos);\n                }\n            })\n    }, [])\n    const renderVideo = Videos.length > 0 && Videos.map((videoInfo,index)=>{\n        const minutes = Math.floor(videoInfo.duration/60);\n        const second  = Math.floor(videoInfo.duration - (minutes*60));\n     return (<Col lg={6} md={8} xs={24} key={index}>\n                <div className='landing_video_thumbnail'>\n                    <a href={`/video/${videoInfo._id}`}>\n                        <img src={`${CORS_URL}/${videoInfo.thumbnail}`}/>\n                        <span className='landing_video_duration'>{`${minutes}:${second}`}</span>\n                    </a>\n                </div>\n                <div className='landing_video_info_container'>\n                    <div className='landing_video_writer_thumbnail'>\n                        <img src={videoInfo.writer &&`${videoInfo.writer.image}`}/>\n                    </div>\n                    <div className='landing_video_info'>\n                        <span>{videoInfo.title}</span>\n                        <span>{videoInfo.description}</span>\n                        <div>\n                            <span>{videoInfo.views!==0 && videoInfo.view>1 ? `${videoInfo.views} views`: `${videoInfo.views} view` }</span>\n                            <span> - {moment(videoInfo.createdAt).format(\"MMM Do YY\")}</span>\n                        </div>\n                    </div>\n                </div>\n            </Col>)\n    })\n    return (\n        <div className='landingPage_container'>\n            <h2 className='landingPage_title'>Videos</h2>\n            <Row gutter={[16,16]}>\n                {renderVideo}\n            </Row>\n        </div>\n    )\n}\n\nexport default LandingPage\n","import React, { useState } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { loginUser } from \"../../../_actions/user_actions\";\nimport { Formik } from 'formik';\nimport * as Yup from 'yup';\nimport { Form, Icon, Input, Button, Checkbox, Typography } from 'antd';\nimport { useDispatch } from \"react-redux\";\n\nconst { Title } = Typography;\n\nfunction LoginPage(props) {\n  const dispatch = useDispatch();\n  const rememberMeChecked = localStorage.getItem(\"rememberMe\") ? true : false;\n\n  const [formErrorMessage, setFormErrorMessage] = useState('')\n  const [rememberMe, setRememberMe] = useState(rememberMeChecked)\n\n  const handleRememberMe = () => {\n    setRememberMe(!rememberMe)\n  };\n\n  const initialEmail = localStorage.getItem(\"rememberMe\") ? localStorage.getItem(\"rememberMe\") : '';\n\n  return (\n    <Formik\n      initialValues={{\n        email: initialEmail,\n        password: '',\n      }}\n      validationSchema={Yup.object().shape({\n        email: Yup.string()\n          .email('Email is invalid')\n          .required('Email is required'),\n        password: Yup.string()\n          .min(6, 'Password must be at least 6 characters')\n          .required('Password is required'),\n      })}\n      onSubmit={(values, { setSubmitting }) => {\n        setTimeout(() => {\n          let dataToSubmit = {\n            email: values.email,\n            password: values.password\n          };\n\n          dispatch(loginUser(dataToSubmit))\n            .then(response => {\n              if (response.payload.loginSuccess) {\n                window.localStorage.setItem('userId', response.payload.userId);\n                if (rememberMe === true) {\n                  window.localStorage.setItem('rememberMe', values.id);\n                } else {\n                  localStorage.removeItem('rememberMe');\n                }\n                props.history.push(\"/\");\n              } else {\n                setFormErrorMessage('Check out your Account or Password again')\n              }\n            })\n            .catch(err => {\n              setFormErrorMessage('Check out your Account or Password again')\n              setTimeout(() => {\n                setFormErrorMessage(\"\")\n              }, 3000);\n            });\n          setSubmitting(false);\n        }, 500);\n      }}\n    >\n      {props => {\n        const {\n          values,\n          touched,\n          errors,\n          dirty,\n          isSubmitting,\n          handleChange,\n          handleBlur,\n          handleSubmit,\n          handleReset,\n        } = props;\n        return (\n          <div className=\"app\">\n\n            <Title level={2}>Log In</Title>\n            <form onSubmit={handleSubmit} style={{ width: '350px' }}>\n\n              <Form.Item required>\n                <Input\n                  id=\"email\"\n                  prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                  placeholder=\"Enter your email\"\n                  type=\"email\"\n                  value={values.email}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  className={\n                    errors.email && touched.email ? 'text-input error' : 'text-input'\n                  }\n                />\n                {errors.email && touched.email && (\n                  <div className=\"input-feedback\">{errors.email}</div>\n                )}\n              </Form.Item>\n\n              <Form.Item required>\n                <Input\n                  id=\"password\"\n                  prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                  placeholder=\"Enter your password\"\n                  type=\"password\"\n                  value={values.password}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  className={\n                    errors.password && touched.password ? 'text-input error' : 'text-input'\n                  }\n                />\n                {errors.password && touched.password && (\n                  <div className=\"input-feedback\">{errors.password}</div>\n                )}\n              </Form.Item>\n\n              {formErrorMessage && (\n                <label ><p style={{ color: '#ff0000bf', fontSize: '0.7rem', border: '1px solid', padding: '1rem', borderRadius: '10px' }}>{formErrorMessage}</p></label>\n              )}\n\n              <Form.Item>\n                <Checkbox id=\"rememberMe\" onChange={handleRememberMe} checked={rememberMe} >Remember me</Checkbox>\n                <a className=\"login-form-forgot\" href=\"/reset_user\" style={{ float: 'right' }}>\n                  forgot password\n                  </a>\n                <div>\n                  <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\" style={{ minWidth: '100%' }} disabled={isSubmitting} onSubmit={handleSubmit}>\n                    Log in\n                </Button>\n                </div>\n                Or <a href=\"/register\">register now!</a>\n              </Form.Item>\n            </form>\n          </div>\n        );\n      }}\n    </Formik>\n  );\n};\n\nexport default withRouter(LoginPage);\n\n\n","import React from \"react\";\nimport moment from \"moment\";\nimport { Formik } from 'formik';\nimport * as Yup from 'yup';\nimport { registerUser } from \"../../../_actions/user_actions\";\nimport { useDispatch } from \"react-redux\";\n\nimport {\n  Form,\n  Input,\n  Button,\n} from 'antd';\n\nconst formItemLayout = {\n  labelCol: {\n    xs: { span: 24 },\n    sm: { span: 8 },\n  },\n  wrapperCol: {\n    xs: { span: 24 },\n    sm: { span: 16 },\n  },\n};\nconst tailFormItemLayout = {\n  wrapperCol: {\n    xs: {\n      span: 24,\n      offset: 0,\n    },\n    sm: {\n      span: 16,\n      offset: 8,\n    },\n  },\n};\n\nfunction RegisterPage(props) {\n  const dispatch = useDispatch();\n  return (\n\n    <Formik\n      initialValues={{\n        email: '',\n        lastName: '',\n        name: '',\n        password: '',\n        confirmPassword: ''\n      }}\n      validationSchema={Yup.object().shape({\n        name: Yup.string()\n          .required('Name is required'),\n        lastName: Yup.string()\n          .required('Last Name is required'),\n        email: Yup.string()\n          .email('Email is invalid')\n          .required('Email is required'),\n        password: Yup.string()\n          .min(6, 'Password must be at least 6 characters')\n          .required('Password is required'),\n        confirmPassword: Yup.string()\n          .oneOf([Yup.ref('password'), null], 'Passwords must match')\n          .required('Confirm Password is required')\n      })}\n      onSubmit={(values, { setSubmitting }) => {\n        setTimeout(() => {\n\n          let dataToSubmit = {\n            email: values.email,\n            password: values.password,\n            name: values.name,\n            lastname: values.lastname,\n            image: `http://gravatar.com/avatar/${moment().unix()}?d=identicon`\n          };\n\n          dispatch(registerUser(dataToSubmit)).then(response => {\n            if (response.payload.success) {\n              props.history.push(\"/login\");\n            } else {\n              alert(response.payload.err.errmsg)\n            }\n          })\n\n          setSubmitting(false);\n        }, 500);\n      }}\n    >\n      {props => {\n        const {\n          values,\n          touched,\n          errors,\n          dirty,\n          isSubmitting,\n          handleChange,\n          handleBlur,\n          handleSubmit,\n          handleReset,\n        } = props;\n        return (\n          <div className=\"app\">\n            <h2>Sign up</h2>\n            <Form style={{ minWidth: '375px' }} {...formItemLayout} onSubmit={handleSubmit} >\n\n              <Form.Item required label=\"Name\">\n                <Input\n                  id=\"name\"\n                  placeholder=\"Enter your name\"\n                  type=\"text\"\n                  value={values.name}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  className={\n                    errors.name && touched.name ? 'text-input error' : 'text-input'\n                  }\n                />\n                {errors.name && touched.name && (\n                  <div className=\"input-feedback\">{errors.name}</div>\n                )}\n              </Form.Item>\n\n              <Form.Item required label=\"Last Name\">\n                <Input\n                  id=\"lastName\"\n                  placeholder=\"Enter your Last Name\"\n                  type=\"text\"\n                  value={values.lastName}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  className={\n                    errors.lastName && touched.lastName ? 'text-input error' : 'text-input'\n                  }\n                />\n                {errors.lastName && touched.lastName && (\n                  <div className=\"input-feedback\">{errors.lastName}</div>\n                )}\n              </Form.Item>\n\n              <Form.Item required label=\"Email\" hasFeedback validateStatus={errors.email && touched.email ? \"error\" : 'success'}>\n                <Input\n                  id=\"email\"\n                  placeholder=\"Enter your Email\"\n                  type=\"email\"\n                  value={values.email}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  className={\n                    errors.email && touched.email ? 'text-input error' : 'text-input'\n                  }\n                />\n                {errors.email && touched.email && (\n                  <div className=\"input-feedback\">{errors.email}</div>\n                )}\n              </Form.Item>\n\n              <Form.Item required label=\"Password\" hasFeedback validateStatus={errors.password && touched.password ? \"error\" : 'success'}>\n                <Input\n                  id=\"password\"\n                  placeholder=\"Enter your password\"\n                  type=\"password\"\n                  value={values.password}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  className={\n                    errors.password && touched.password ? 'text-input error' : 'text-input'\n                  }\n                />\n                {errors.password && touched.password && (\n                  <div className=\"input-feedback\">{errors.password}</div>\n                )}\n              </Form.Item>\n\n              <Form.Item required label=\"Confirm\" hasFeedback>\n                <Input\n                  id=\"confirmPassword\"\n                  placeholder=\"Enter your confirmPassword\"\n                  type=\"password\"\n                  value={values.confirmPassword}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  className={\n                    errors.confirmPassword && touched.confirmPassword ? 'text-input error' : 'text-input'\n                  }\n                />\n                {errors.confirmPassword && touched.confirmPassword && (\n                  <div className=\"input-feedback\">{errors.confirmPassword}</div>\n                )}\n              </Form.Item>\n\n              <Form.Item {...tailFormItemLayout}>\n                <Button onClick={handleSubmit} type=\"primary\" disabled={isSubmitting}>\n                  Submit\n                </Button>\n              </Form.Item>\n            </Form>\n          </div>\n        );\n      }}\n    </Formik>\n  );\n};\n\n\nexport default RegisterPage\n","import React from 'react';\nimport { Menu } from 'antd';\nconst SubMenu = Menu.SubMenu;\nconst MenuItemGroup = Menu.ItemGroup;\n\nfunction LeftMenu(props) {\n  return (\n    <Menu mode={props.mode}>\n    <Menu.Item key=\"mail\">\n      <a href=\"/\">Home</a>\n    </Menu.Item>\n    <Menu.Item key=\"subscribe\">\n      <a href=\"/subscribe\">Subscribe</a>\n    </Menu.Item>\n  </Menu>\n  )\n}\n\nexport default LeftMenu","import React from 'react';\nimport { Menu } from 'antd';\nimport Axios from 'axios';\nimport { USER_SERVER } from '../../../Config';\nimport { withRouter } from 'react-router-dom';\nimport { useSelector } from \"react-redux\";\n\n\nfunction RightMenu(props) {\n  const user = useSelector(state => state.user)\n  \n  const logoutHandler = () => {\n    Axios.post(`${USER_SERVER}/logout`,{},{withCredentials:true}).then(response => {\n      if (response.status === 200) {\n        props.history.push('/login');\n      } else {\n        alert('Log Out Failed')\n      }\n    });\n  };\n\n  if (user.userData && !user.userData.isAuth) {\n    return (\n      <Menu mode={props.mode}>\n        <Menu.Item key=\"mail\">\n          <a href=\"/login\">Signin</a>\n        </Menu.Item>\n        <Menu.Item key=\"app\">\n          <a href=\"/register\">Signup</a>\n        </Menu.Item>\n      </Menu>\n    )\n  } else {\n    return (\n      <Menu mode={props.mode}>\n        <Menu.Item key=\"create\">\n          <a href=\"/video/upload\">Upload</a>\n        </Menu.Item>\n        <Menu.Item key=\"logout\">\n          <a onClick={logoutHandler}>Logout</a>\n        </Menu.Item>\n      </Menu>\n    )\n  }\n}\n\nexport default withRouter(RightMenu);\n\n","import React, { useState } from 'react';\nimport LeftMenu from './Sections/LeftMenu';\nimport RightMenu from './Sections/RightMenu';\nimport { Drawer, Button, Icon } from 'antd';\nimport './Sections/Navbar.css';\n\nfunction NavBar() {\n  const [visible, setVisible] = useState(false)\n\n  const showDrawer = () => {\n    setVisible(true)\n  };\n\n  const onClose = () => {\n    setVisible(false)\n  };\n\n  return (\n    <nav className=\"menu\" style={{ position: 'fixed', zIndex: 5, width: '100%' }}>\n      <div className=\"menu__logo\">\n        <a href=\"/\">Seoul</a>\n      </div>\n      <div className=\"menu__container\">\n        <div className=\"menu_left\">\n          <LeftMenu mode=\"horizontal\" />\n        </div>\n        <div className=\"menu_rigth\">\n          <RightMenu mode=\"horizontal\" />\n        </div>\n        <Button\n          className=\"menu__mobile-button\"\n          type=\"primary\"\n          onClick={showDrawer}\n        >\n          <Icon type=\"align-right\" />\n        </Button>\n        <Drawer\n          title=\"Basic Drawer\"\n          placement=\"right\"\n          className=\"menu_drawer\"\n          closable={false}\n          onClose={onClose}\n          visible={visible}\n        >\n          <LeftMenu mode=\"inline\" />\n          <RightMenu mode=\"inline\" />\n        </Drawer>\n      </div>\n    </nav>\n  )\n}\n\nexport default NavBar","import React from 'react'\nimport {Icon} from 'antd';\n\nfunction Footer() {\n    return (\n        <div style={{\n            height: '80px', display: 'flex',\n            flexDirection: 'column', alignItems: 'center',\n            justifyContent: 'center', fontSize:'1rem'\n        }}>\n           <p> Happy Coding  <Icon type=\"smile\" /></p>\n        </div>\n    )\n}\n\nexport default Footer\n","import React, {useCallback,useState, Fragment} from 'react'\nimport {useDropzone} from 'react-dropzone';\nimport './DropZone.css';\nimport { PlusOutlined } from '@ant-design/icons';\nimport Axios from 'axios';\nimport { CORS_URL } from '../../Config';\n\n\n\nconst Dropzone=(props)=>{\n    const [VideoFilePath,setVideoFilePath] = useState('');\n    const [Duration,setDuration] = useState(0);\n    const [ThumbnailPath,setThumbnailPath] =useState('');\n\n    const onDrop = useCallback(acceptedFiles => {\n      const formData = new FormData();\n      formData.append('videoFile',acceptedFiles[0]);\n      const config = {\n        header : {'content-type': 'multipart/form-data'}\n      }\n      // 파일 업로드시 썸네일 노드 서버에 파일 저장 및 파일의 경로/썸네일 경로/길이를 받아옴\n      Axios.post(`${CORS_URL}/video/uploadFile`,formData,config)\n        .then(response=>{\n          if (response.data.success) {\n            const {data:{filePath,fileName}} = response\n            const body = {filePath, fileName}\n            setVideoFilePath(filePath);\n            Axios.post(`${CORS_URL}/video/thumbnail`,body)\n              .then(response=>{\n                if (response.data.success) {\n                  const { data : {thumbnailPath,fileDuration}} =response\n                  setThumbnailPath(thumbnailPath)\n                  //부모 컴포넌트에 정보를 전달해주기 위한 함수인 props.updateState실행\n                  props.updateState({filePath,thumbnailPath,fileDuration})\n                }\n              })\n\n          }\n        })\n    }, [])\n    const {getRootProps, getInputProps} = useDropzone({onDrop})\n    return (\n      <Fragment>\n        <div className='dropzone' {...getRootProps()}>\n          <input {...getInputProps()} />\n              <PlusOutlined  style={{fontSize:'3rem'}}/>\n        </div>\n        <div className='dropzone_thumbnail'>\n          {ThumbnailPath &&<img src={`${CORS_URL}/${ThumbnailPath}`} alt='image' />}\n        </div>\n      </Fragment>\n    )\n  }\n\n  export default Dropzone;","import React,{useState} from 'react';\nimport {useSelector} from 'react-redux';\nimport Dropzone from '../utils/DropZone';\nimport Axios from 'axios';\nimport './VideoUploadPage.css';\nimport { CORS_URL } from '../../Config';\n\nfunction VideoUploadPage(props) {\n    const user = useSelector(state => state.user);\n    const {userData} = user;\n    const [Title,setTitle] = useState('');\n    const [Description,setDescription] = useState('');\n    const [Category,setCategory] = useState(0);\n    const [VideoFilePath,setVideoFilePath] = useState('');\n    const [Duration,setDuration] = useState(0);\n    const [ThumbnailPath,setThumbnailPath] =useState('');\n\n    const category = [\n        {index:0, value:'Flim & Animation'},\n        {index:1, value:'Sports'},\n        {index:2, value:'Documentary & History'},\n        {index:3, value:'Art & Music'},\n        {index:4, value:'Living'},\n        {index:5, value:'Comedy & Funny'}\n    ]\n    const renderOption = category.map((categoryInfo,index)=>(\n    <option key={index} value={categoryInfo.index}>{categoryInfo.value}</option>\n    ))\n\n    const uploadVideo=(e)=>{\n        e.preventDefault();\n\n        if (Title === \"\" || Description === \"\" ||\n        Category === \"\" || VideoFilePath === \"\" ||\n        Duration === \"\" || ThumbnailPath === \"\") {\n        return alert('모든 정보를 다 입력해주세요.')\n    }\n        const body ={\n            writer : userData._id,\n            title :Title,\n            description :Description,\n            category :Category,\n            filePath : VideoFilePath,\n            thumbnail :ThumbnailPath,\n            duration: Duration\n        }\n        Axios.post(`${CORS_URL}/video/uploadVideo`,body)\n            .then(response=>{\n                if (response.data.success) {\n                    alert('Success! 1초 뒤 홈으로 이동합니다.')\n                    setTimeout(()=>{\n                        props.history.push('/')\n                    },1000)\n                } else {\n                    alert('Fail at Upload Video');\n                }\n            })\n    }\n    const handleOnChange=(e)=>{\n        const name = e.target.name;\n        const value = e.target.value;\n        switch (name) {\n            case 'title':\n                setTitle(value);\n                break;\n            case 'description':\n                setDescription(value);\n                break;\n            default:\n                break;\n        }\n    }\n    const categoryChange=(e)=>{\n        setCategory(e.target.value);\n    }\n    const updateState =(childComponentInfo)=>{\n     const {filePath,thumbnailPath,fileDuration} = childComponentInfo;\n     setVideoFilePath(filePath);\n     setThumbnailPath(thumbnailPath);\n     setDuration(fileDuration);\n    }\n    return (\n        <div>\n            <div className='upload_container'>\n                <h2 className='upload_title'>Video Upload</h2>\n                {/* Video Upload Form */}\n                <form className='upload_container_form' onSubmit={uploadVideo}>\n                    {/* DropZone */}\n                    <div className='dropzone_container'>\n                        <Dropzone updateState={updateState}/>\n                        {/* Image thumbnail */}\n                    </div>\n\n                    <label htmlFor='title'>Title:</label>\n                    <input name='title' id='title' onChange={handleOnChange} value={Title} placeholder='Write Title' />\n\n                    <label htmlFor='description'>Description:</label>\n                    <textarea name='description' id='description' onChange={handleOnChange} value={Description} placeholder='Write Description' />\n\n                    <select value={Category} onChange={categoryChange}>\n                        {renderOption}\n                    </select>\n                    <button>Upload Video</button>\n                </form>\n            </div>\n        </div>\n    )\n}\n\nexport default VideoUploadPage\n","import React,{useEffect,useState, Fragment} from 'react'\r\nimport Axios from 'axios'\r\nimport './SideVideo.css';\r\nimport { CORS_URL } from '../../../Config';\r\n\r\n\r\nfunction SideVideo(props) {\r\n    const [sideVideos,setSideVideos]=useState([]);\r\n    useEffect(() => {\r\n        Axios.get(`${CORS_URL}/video/getVideos`)\r\n            .then(response=>{\r\n                if (response.data.success) {\r\n                    setSideVideos([...response.data.videos])\r\n                } else {\r\n                    alert('비디오 정보를 가져오는 데 실패했습니다.')\r\n                }\r\n            })\r\n    }, [])\r\n    const renderSideVideos = sideVideos && sideVideos.map((sideVideoInfo,index)=>{\r\n        const minutes = Math.floor(sideVideoInfo.duration/60);\r\n        const seconds = Math.floor(sideVideoInfo.duration-(minutes*60));\r\n        return (\r\n        <div className='sideVideo_container' key={index}>\r\n            <div className='sideVideo_thumbnail'>\r\n                <a href={`/video/${sideVideoInfo._id}`}>\r\n                    <img src={`${CORS_URL}/${sideVideoInfo.thumbnail}`} />\r\n                </a>\r\n            </div>\r\n            <div className='sideVideo_info'>\r\n                <span>{sideVideoInfo.writer.name}</span>\r\n                <span>{sideVideoInfo.views>0 && sideVideoInfo.views>1 ?\r\n                `${sideVideoInfo.views} views`  : `${sideVideoInfo.views} view`}</span>\r\n                <span>{minutes}:{seconds}</span>\r\n            </div>\r\n        </div>\r\n    )})\r\n    return (\r\n        <Fragment>\r\n            {renderSideVideos}\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default SideVideo\r\n","import React,{useEffect,useState, Fragment} from 'react'\r\nimport Axios from 'axios';\r\nimport './Subscribe.css';\r\nimport { CORS_URL } from '../../../Config';\r\n\r\nfunction Subscribe(props) {\r\n    const { userTo,userFrom }=props;\r\n    const [SubscribeNumber,setSubscribeNumber] = useState(0);\r\n    const [Subscribed,setSubscribed] = useState(false);\r\n\r\n    useEffect(()=>{\r\n        //userTo:비디오 창작자의 mongoDBId userFrom:로그인한 유저의 mongoDBId\r\n        const body = { userTo }\r\n        Axios.post(`${CORS_URL}/subscribe/getSubscribeNumber`,body)\r\n            .then(response=>{\r\n                if (response.data.success) {\r\n                    const {data :{subscribeNumber}} = response;\r\n                    setSubscribeNumber(subscribeNumber);\r\n                } else {\r\n                    alert('구독자 수를 받아오는 데 실패했습니다.')\r\n                }\r\n            })\r\n        const subscribedCheckObj = {userTo,userFrom};\r\n        Axios.post(`${CORS_URL}/subscribe/subscribed`,subscribedCheckObj)\r\n            .then(response=>{\r\n                if (response.data.success) {\r\n                    const {data:{subscribed}} = response;\r\n                    setSubscribed(subscribed);\r\n                } else {\r\n                    alert('구독 여부 확인에 실패했습니다.')\r\n                }\r\n            })\r\n    },[])\r\n\r\n    const toggleSubscribe = () =>{\r\n        const body = {userTo,userFrom};\r\n        if (Subscribed) {\r\n        //구독 중 클릭시 구독 해지\r\n            Axios.post(`${CORS_URL}/subscribe/removeFromSubScribe`,body)\r\n                .then(response=>{\r\n                    if (response.data.success) {\r\n                        setSubscribeNumber(SubscribeNumber-1);\r\n                        setSubscribed(!Subscribed)\r\n                    } else {\r\n                        alert('구독해지에 실패했습니다.')\r\n                    }\r\n                })\r\n        } else {\r\n        //구독 중이 아니라면 구독목록에 추가\r\n            Axios.post(`${CORS_URL}/subscribe/addToSubscribe`,body)\r\n                .then(response=>{\r\n                    if (response.data.success) {\r\n                        setSubscribeNumber(SubscribeNumber+1)\r\n                        setSubscribed(!Subscribed)\r\n                    } else {\r\n                        alert('구독추가에 실패했습니다.')\r\n                    }\r\n                }) \r\n        }\r\n    }\r\n    return (\r\n        <Fragment>\r\n            <button \r\n                onClick={toggleSubscribe}\r\n                className='subscribe_btn' \r\n                style={{backgroundColor:`${Subscribed ? 'gray':'red'}`}}\r\n            >\r\n                {SubscribeNumber}  {Subscribed ? '구독 취소' : '구독'}\r\n            </button>\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default Subscribe\r\n","import React, { useEffect, useState, Fragment } from 'react';\r\nimport { Tooltip } from 'antd';\r\nimport {\r\n    LikeOutlined,\r\n    DislikeOutlined,\r\n    LikeFilled,\r\n    DislikeFilled\r\n  } from '@ant-design/icons';\r\nimport Axios from 'axios';\r\nimport { CORS_URL } from '../../../Config';\r\n\r\n\r\nfunction LikeDisLike(props) {\r\n    const [LikeNumber,setLikeNumber] = useState(0);\r\n    const [DisLikeNumber,setDisLikeNumber] =useState(0);\r\n    const [Like,setLike] = useState(null);\r\n    const [DisLike,setDisLike] = useState(null);\r\n    const {video,videoId,userId,commentId} =props;\r\n    let body = {};\r\n    if (video) {\r\n        body = {videoId}\r\n    } else {\r\n        body = {commentId}\r\n    }\r\n\r\n    useEffect(()=>{\r\n        Axios.post(`${CORS_URL}/like/getLikeNumber`,body)\r\n            .then(response=>{\r\n                if (response.data.success) {\r\n                    const { data : {like}} =response;\r\n                    setLikeNumber(like.length);\r\n                    like.map((likeInfo)=>{\r\n                        if (likeInfo.userId === userId) setLike('Like');\r\n                    })\r\n                } else {\r\n                    alert('좋아요 수를 가져오는 데 실패했습니다.')\r\n                }\r\n            })\r\n        Axios.post(`${CORS_URL}/like/getDisLikeNumber`,body)\r\n            .then(response=>{\r\n                if (response.data.success) {\r\n                    const { data : {dislike}} =response;\r\n                    setDisLikeNumber(dislike.length);\r\n                    dislike.map((disLikeInfo)=>{\r\n                        if (disLikeInfo.userId === userId) setDisLike('DisLike');\r\n                    })\r\n                } else {\r\n                    alert('싫어요 수를 가져오는 데 실패했습니다.')\r\n                }\r\n            })\r\n    },[])\r\n\r\n    const handleLike=()=>{\r\n        let body = {};\r\n        if (video) {\r\n            body = {videoId,userId}\r\n        } else {\r\n            body = {commentId,userId}\r\n        }\r\n        if (Like === 'Like') {\r\n            Axios.post(`${CORS_URL}/like/unLike`,body)\r\n                .then(response=>{\r\n                    if (response.data.success) {\r\n                        setLikeNumber(LikeNumber-1);\r\n                        setLike(null);\r\n                    }\r\n                })\r\n        } else {\r\n            Axios.post(`${CORS_URL}/like/upLike`,body)\r\n            .then(response=>{\r\n                setLike('Like');\r\n                setLikeNumber(LikeNumber+1);\r\n                if (response.data.success) {\r\n                    if (DisLike === 'DisLike') {\r\n                        setDisLike(null);\r\n                        setDisLikeNumber(DisLikeNumber-1)\r\n                    }       \r\n                    }\r\n                })\r\n        }\r\n    }\r\n\r\n    const handleDisLike=()=>{\r\n        let body = {};\r\n        if (video) {\r\n            body = {videoId,userId}\r\n        } else {\r\n            body = {commentId,userId}\r\n        }\r\n        if (DisLike === 'DisLike') {\r\n            Axios.post(`${CORS_URL}/like/unDisLike`,body)\r\n                .then(response=>{\r\n                    if (response.data.success) {\r\n                        setDisLikeNumber(DisLikeNumber-1);\r\n                        setDisLike(null);\r\n                    }\r\n                })\r\n        } else {\r\n            Axios.post(`${CORS_URL}/like/upDisLike`,body)\r\n                .then(response=>{\r\n                    if (response.data.success) {\r\n                        setDisLike('DisLike');\r\n                        setDisLikeNumber(DisLikeNumber+1);\r\n                        if (Like === 'Like') {\r\n                            setLikeNumber(LikeNumber-1);\r\n                            setLike(null);\r\n                        }\r\n                    }\r\n                })\r\n        }\r\n    }\r\n    return (\r\n        <div style={{display:'flex',alignItems:'center'}}>\r\n            <Tooltip title=\"Like\">\r\n                {Like === 'Like'?\r\n                    <LikeFilled onClick={handleLike} style={{fontSize:'1.2rem'}} />\r\n                    :\r\n                    <LikeOutlined onClick={handleLike} style={{fontSize:'1.2rem'}} />\r\n                }\r\n                <span style={{cursor:'auto',padding:'.5rem'}}>{LikeNumber}</span>\r\n            </Tooltip>\r\n            <Tooltip title=\"DisLike\">\r\n                {DisLike === 'DisLike'?\r\n                    <DislikeFilled onClick={handleDisLike} style={{fontSize:'1.2rem'}} />\r\n                    :\r\n                    <DislikeOutlined onClick={handleDisLike} style={{fontSize:'1.2rem'}} />\r\n                }\r\n                <span style={{cursor:'auto',padding:'.5rem'}}>{DisLikeNumber}</span>\r\n            </Tooltip>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LikeDisLike\r\n","import React,{ useState } from 'react'\r\nimport Axios from 'axios';\r\nimport { useSelector } from 'react-redux';\r\nimport './Comment.css';\r\nimport LikeDisLike from './LikeDisLike';\r\nimport { CORS_URL } from '../../../Config';\r\n\r\nfunction SingleComment(props) {\r\n    const {comment,videoId,updateComment}=props;\r\n    const user = useSelector(state=>state.user);\r\n    const {userData} = user;\r\n    const userId = localStorage.getItem('userId');\r\n    const [OpenComment,setOpenComment] = useState(false);\r\n    const [CommentValue,setCommentValue] = useState('');\r\n\r\n    const toggleOpenComment = () =>{\r\n        setOpenComment(!OpenComment)\r\n    }\r\n    const submitComment = (e) =>{\r\n        e.preventDefault();\r\n        const submitVariable = {\r\n            videoId : videoId ,\r\n            writer  : userData._id,\r\n            content : CommentValue,\r\n            responseTo : comment._id\r\n        }\r\n        Axios.post(`${CORS_URL}/comment/saveComment`,submitVariable)\r\n            .then(response=>{\r\n                if (response.data.success) {\r\n                    const { data : {commentInfo}} = response;\r\n                    updateComment(commentInfo);\r\n                    setCommentValue('');\r\n                }\r\n            })\r\n    }\r\n    const textAreaChange = (e)=>{\r\n        setCommentValue(e.target.value);\r\n    }\r\n\r\n    const renderForm = () =>{\r\n        if (userData._id) {\r\n            let userId = userData._id\r\n            return (\r\n                <form onSubmit={submitComment} className='root_comment_form'>\r\n                    <textarea className='root_comment_textarea' \r\n                        value={CommentValue}\r\n                        onChange={textAreaChange}\r\n                        placeholder='내용을 입력하세요'\r\n                    ></textarea>\r\n                    {OpenComment &&\r\n                        <div className='button_container'>\r\n                            <button className='cancel_btn' onClick={toggleOpenComment}>취소</button>\r\n                            <button>댓글</button>\r\n                        </div>\r\n                    }\r\n            </form>\r\n            )\r\n        } else {\r\n            return (\r\n                <form onSubmit={submitComment} className='root_comment_form'>\r\n                <textarea className='root_comment_textarea' \r\n                    value={CommentValue}\r\n                    onChange={textAreaChange}\r\n                    placeholder='로그인 후 댓글 등록이 가능합니다.'\r\n                ></textarea>\r\n            </form>\r\n            )\r\n        }\r\n    }\r\n    const deleteComment = ()=>{\r\n        const responseTo = comment.responseTo;\r\n        const writer = localStorage.getItem('userId');\r\n\r\n        Axios.post(`${CORS_URL}/comment/deleteComment`,{writer,responseTo,videoId})\r\n            .then(response=>{\r\n                if (response.data.success) {\r\n                    let {data:{remainComments}}=response\r\n                    //삭제가 완료된 커멘트 정보들을 updateComment통해 상위 컴포넌트로 전달\r\n                    console.log('Alive Comment:',remainComments)\r\n                    if (!remainComments) remainComments=[];\r\n                    updateComment(remainComments)\r\n                } else {\r\n                    alert('내 댓글 삭제에 실패했습니다.')\r\n                }\r\n            })\r\n    }\r\n    const renderSingleComment =()=>{\r\n        return (\r\n            comment.writer && \r\n            <div className='singleComment'> \r\n                <div className='comment_writer_container'>\r\n                    <img className='comment_writer_image' src={comment.writer.image} />\r\n                    <div className='writer_info'>\r\n                        <span>{comment.writer.name}</span>\r\n                        <p>{comment.content}</p>\r\n                    </div>\r\n                </div>\r\n                <div className='userAction_container'>\r\n                    <p onClick={toggleOpenComment}>댓글 달기</p>\r\n                    {/* 로그인 유저 === comment.user._id이면 댓글삭제 가능하게 */}\r\n                    {userId === comment.writer._id &&<button className='comment_delete_btn' onClick={deleteComment}>댓글 삭제</button>}\r\n                    {userId && <LikeDisLike commentId={comment._id} videoId={videoId} userId={userId} /> }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n    return (\r\n        <div className='singleComment_container'>\r\n                {renderSingleComment()}\r\n                {OpenComment && userData && renderForm()}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SingleComment\r\n","import React, { Fragment, useState } from 'react'\r\nimport SingleComment from './SingleComment'\r\n\r\nfunction ReplyComment(props) {\r\n\r\n    const {commentList,parentId,videoId,updateComment}=props;\r\n    let [CommentNumber,setCommentNumber] = useState(0);\r\n    const [OpenReply,setOpenReply] = useState(false);\r\n\r\n    const showComment = ()=>{\r\n        setOpenReply(!OpenReply)\r\n    }\r\n \r\n    const renderReplyComment = commentList && commentList.map((commentInfo,index)=>{\r\n        if (commentInfo.responseTo === parentId) CommentNumber++;\r\n        if (index === commentList.length ) setCommentNumber(CommentNumber);\r\n        return (\r\n            commentInfo.responseTo === parentId &&\r\n            <Fragment key={index}>\r\n                <div className='comment_container'>\r\n                    <SingleComment updateComment={updateComment} comment={commentInfo} videoId={videoId} />\r\n                    <ReplyComment commentList={commentList} videoId={videoId} updateComment={updateComment} parentId={commentInfo._id} />\r\n                </div>\r\n            </Fragment>\r\n        )\r\n    })\r\n\r\n    return (\r\n        <div className='reply_comment_container'>\r\n            {CommentNumber >0  &&<p onClick={showComment}>View {CommentNumber} Comment(s)</p>}\r\n            {OpenReply&&renderReplyComment}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ReplyComment\r\n","import React,{useEffect,useState, Fragment} from 'react'\r\nimport './Comment.css';\r\nimport {useSelector} from 'react-redux';\r\nimport Axios from 'axios';\r\nimport SingleComment from './SingleComment';\r\nimport ReplyComment from './ReplyComment';\r\nimport { CORS_URL } from '../../../Config';\r\nfunction Comment(props) {\r\n    const user = useSelector(state=>state.user);\r\n    const {userData} = user;\r\n    const {videoId,commentList,updateComment} = props;\r\n    const [CommentValue,setCommentValue] = useState([]);\r\n    const [ShowComment,setShowComment] = useState(false);\r\n    \r\n    const textAreaChange = (e)=>{\r\n        setCommentValue(e.target.value);\r\n    }\r\n    // 로그인 했을 때만 댓글 창 사용가능하게 해야\r\n    const submitComment = (e)=>{\r\n        e.preventDefault();\r\n        const submitVariables = {\r\n            videoId : videoId,\r\n            writer : userData._id,\r\n            content : CommentValue\r\n        }\r\n        Axios.post(`${CORS_URL}/comment/saveComment`,submitVariables)\r\n            .then(response=>{\r\n                if (response.data.success) {\r\n                    const {data : {commentInfo}} = response\r\n                    updateComment(commentInfo);\r\n                    setCommentValue('');\r\n                    setShowComment(false);\r\n                } else {\r\n                    alert('댓글 저장에 실패했습니다.')\r\n                }\r\n            })\r\n    }\r\n    const renderComments = commentList && commentList.map(\r\n        (commentInfo,index)=>(\r\n            !commentInfo.responseTo &&\r\n            <Fragment key={index}>\r\n                <SingleComment updateComment={updateComment} comment={commentInfo} videoId={videoId} />\r\n                <ReplyComment commentList={commentList} videoId={videoId} updateComment={updateComment} parentId={commentInfo._id} />\r\n            </Fragment>\r\n    ))\r\n    \r\n    const cancelComment = () =>{setShowComment(!ShowComment)}\r\n    \r\n    const renderForm = () =>{\r\n        if (userData._id) {\r\n            let userId = userData._id\r\n            return (\r\n                <form onSubmit={submitComment} className='root_comment_form'>\r\n                    <textarea className='root_comment_textarea' \r\n                        value={CommentValue}\r\n                        onChange={textAreaChange}\r\n                        onClick={cancelComment}\r\n                        placeholder='내용을 입력하세요'\r\n                    ></textarea>\r\n                    {ShowComment &&\r\n                        <div className='button_container'>\r\n                            <button className='cancel_btn' onClick={cancelComment}>취소</button>\r\n                            <button>댓글</button>\r\n                        </div>\r\n                    }\r\n            </form>\r\n            )\r\n        } else {\r\n            return (\r\n                <form onSubmit={submitComment} className='root_comment_form'>\r\n                <textarea className='root_comment_textarea' \r\n                    value={CommentValue}\r\n                    onChange={textAreaChange}\r\n                    onClick={cancelComment}\r\n                    placeholder='로그인 후 댓글 등록이 가능합니다.'\r\n                ></textarea>\r\n            </form>\r\n            )\r\n        }\r\n    }\r\n    return (\r\n        <div>\r\n            <p>댓글</p>\r\n            <hr />\r\n            {userData&&renderForm()}\r\n            {renderComments}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Comment\r\n","import React,{useEffect,useState, Fragment} from 'react';\r\nimport Axios from 'axios';\r\nimport {Row,Col} from 'antd';\r\nimport './VideoDetailPage.css';\r\nimport SideVideo from './Sections/SideVideo';\r\nimport Subscribe from './Sections/Subscribe';\r\nimport Comment from './Sections/Comment';\r\nimport LikeDisLike from './Sections/LikeDisLike';\r\nimport { CORS_URL } from '../../Config';\r\n\r\nfunction VideoDetailPage(props) {\r\n    const {match : {params : {videoId}}} =props;\r\n    const [Comments,setComments] = useState([]);\r\n    const [VideoInfo,setVideoInfo] = useState({});\r\n    const userId=localStorage.getItem('userId');\r\n    useEffect(() => {\r\n        const body ={\r\n            videoId\r\n        }\r\n        Axios.post(`${CORS_URL}/video/getVideoDetail`,body)\r\n            .then(response=>{\r\n                if (response.data.success) {\r\n                    setVideoInfo(response.data.videoInfo);\r\n                } else {\r\n                    alert('비디오 정보를 가져오는 데 실패했습니다.')\r\n                }\r\n            })\r\n        Axios.post(`${CORS_URL}/comment/getComments`,body)\r\n            .then(response=>{\r\n                if (response.data.success) {\r\n                    const { data : {commentList}} = response;\r\n                    setComments([...commentList]);\r\n                } else {\r\n                    alert('댓글 정보를 가져오는 데 실패했습니다.')\r\n                }\r\n            })\r\n    }, [])\r\n\r\n    const updateComment = (newComment)=>{\r\n        //댓글삭제시는 원래 있던 댓글과 합치는 게 아니라 남은 댓글만 저장\r\n        if (newComment.length) return setComments([...newComment])\r\n        //댓글 추가시 원래 있던 댓글과 합쳐서 새로운 comment생성\r\n        setComments([...Comments,newComment])\r\n    }\r\n\r\n    const deleteVideo = (writerId) =>{\r\n        let body = {writerId,videoId}\r\n        Axios.post(`${CORS_URL}/video/deleteVideo`,body)\r\n            .then(response=>{\r\n                if (response.data.success) {\r\n                    //비디오 삭제 요청=>db에서 삭제 후 응답이 success면 홈으로 이동\r\n                    props.history.push('/');\r\n                } else {\r\n                    alert('비디오 삭제에 실패했습니다.')\r\n                }\r\n            })\r\n    }\r\n    const renderVideo = ()=>{\r\n        if (VideoInfo.writer) {\r\n            return (\r\n                <Fragment>\r\n                    <div className='video_container'>\r\n                        <video src={`${CORS_URL}/${VideoInfo.filePath}`} controls />\r\n                    </div>\r\n                    <div className='video_info_container'>\r\n                        <span className='video_info_writer_thumbnail'><img src={VideoInfo.writer.image} /></span>\r\n                        <div className='video_info'>\r\n                            <h3>{VideoInfo.writer.name}</h3>\r\n                            <span>{VideoInfo.description}</span>\r\n                        </div>\r\n\r\n                        <div className='userAction_container'>\r\n                            {userId && <LikeDisLike video videoId={videoId} userId={userId} /> }\r\n                            {userId &&userId!==VideoInfo.writer._id && \r\n                            <Subscribe userTo={VideoInfo.writer._id} userFrom={localStorage.getItem('userId')} />\r\n                        }\r\n                        </div>\r\n                        {\r\n                        userId === VideoInfo.writer._id &&<button className='delete_video_btn' onClick={()=>deleteVideo(userId)}>Delete Video</button>\r\n                        }\r\n                    </div>\r\n                </Fragment>\r\n            )\r\n        } else {\r\n            return (\r\n                <Fragment>\r\n                    <div style={{display:'flex',justifyContent:'center',alignItems:'center'}}>...Loading</div>\r\n                </Fragment>\r\n            )\r\n        }\r\n    }\r\n    return (\r\n        <div className='videoDetail_container'>\r\n            <Row gutter={[16,16]}>\r\n                <Col lg={18} xs={24}>\r\n                    {/* RenderVideo */}\r\n                    {renderVideo()}\r\n                    {/* Reply */}\r\n                    <Comment updateComment={updateComment} commentList={Comments} videoId={videoId}/>\r\n                </Col>\r\n                <Col lg={6} xs={24}>\r\n                    <SideVideo />\r\n                </Col>\r\n            </Row>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default VideoDetailPage\r\n","import React,{useEffect,useState} from 'react'\r\nimport Axios from 'axios';\r\nimport {Row,Col} from 'antd';\r\nimport moment from 'moment';\r\nimport { CORS_URL } from '../../Config';\r\n\r\nfunction SubscribePage() {\r\n    const [SubscribeVideo,setSubscribeVideo] = useState([]);\r\n    useEffect(() => {\r\n        const body = {\r\n            userFrom : localStorage.getItem('userId')\r\n        }\r\n        Axios.post(`${CORS_URL}/subscribe/getSubscribeVideo`,body)\r\n            .then(response=>{\r\n                if (response.data.success) {\r\n                    const {data : {subscribedVideo}} = response;\r\n                    setSubscribeVideo(subscribedVideo);\r\n                } else {\r\n                    alert('구독하는 비디오 정보를 가져오는 데 실패했습니다.')\r\n                }\r\n            })\r\n    }, [])\r\n    const renderVideo = SubscribeVideo && SubscribeVideo.map((videoInfo,index)=>{\r\n        const minutes = Math.floor(videoInfo.duration/60);\r\n        const second  = Math.floor(videoInfo.duration - (minutes*60));\r\n     return (<Col lg={6} md={8} xs={24} key={index}>\r\n                <div className='landing_video_thumbnail'>\r\n                    <a href={`/video/${videoInfo._id}`}>\r\n                        <img src={`${CORS_URL}/${videoInfo.thumbnail}`}/>\r\n                        <span className='landing_video_duration'>{`${minutes}:${second}`}</span>\r\n                    </a>\r\n                </div>\r\n                <div className='landing_video_info_container'>\r\n                    <div className='landing_video_writer_thumbnail'>\r\n                        <img src={`${videoInfo.writer.image}`}/>\r\n                    </div>\r\n                    <div className='landing_video_info'>\r\n                        <span>{videoInfo.title}</span>\r\n                        <span>{videoInfo.description}</span>\r\n                        <div>\r\n                            <span>{videoInfo.views!==0 && videoInfo.view>1 ? `${videoInfo.views} views`: `${videoInfo.views} view` }</span>\r\n                            <span> - {moment(videoInfo.createdAt).format(\"MMM Do YY\")}</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Col>)\r\n    })\r\n    return (\r\n        <div className='landingPage_container'>\r\n            <h2 className='landingPage_title'>Subscribe Videos</h2>\r\n            <Row gutter={[16,16]}>\r\n                {renderVideo}\r\n            </Row>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SubscribePage\r\n","import React, { Suspense } from 'react';\nimport { Route, Switch } from \"react-router-dom\";\nimport Auth from \"../hoc/auth\";\nimport LandingPage from \"./views/LandingPage/LandingPage.js\";\nimport LoginPage from \"./views/LoginPage/LoginPage.js\";\nimport RegisterPage from \"./views/RegisterPage/RegisterPage.js\";\nimport NavBar from \"./views/NavBar/NavBar\";\nimport Footer from \"./views/Footer/Footer\"\nimport VideoUploadPage from './views/VideoUploadPage/VideoUploadPage';\nimport VideoDetailPage from './views/VideoDetailPage/VideoDetailPage';\nimport SubscribePage from './views/SubscribePage/SubscribePage';\n\n\nfunction App() {\n  return (\n    <Suspense fallback={(<div>Loading...</div>)}>\n      <NavBar />\n      <div style={{ paddingTop: '69px', minHeight: 'calc(100vh - 80px)' }}>\n        <Switch>\n          <Route exact path='/' component={Auth(LandingPage, null)} />\n          <Route exact path='/login' component={Auth(LoginPage, false)} />\n          <Route exact path='/register' component={Auth(RegisterPage, false)} />\n          <Route exact path='/video/upload' component={Auth(VideoUploadPage,true)} />\n          <Route exact path='/video/:videoId' component={Auth(VideoDetailPage,null)} />\n          <Route exact path='/subscribe' component={Auth(SubscribePage,true)} />\n        </Switch>\n      </div>\n      <Footer />\n    </Suspense>\n  );\n}\n\nexport default App;\n","import { combineReducers } from 'redux';\nimport user from './user_reducer';\n\nconst rootReducer = combineReducers({\n    user\n});\n\nexport default rootReducer;","import {\n    LOGIN_USER,\n    REGISTER_USER,\n    AUTH_USER,\n    LOGOUT_USER,\n} from '../_actions/types';\n \n\nexport default function(state={},action){\n    switch(action.type){\n        case REGISTER_USER:\n            return {...state, register: action.payload }\n        case LOGIN_USER:\n            return { ...state, loginSucces: action.payload }\n        case AUTH_USER:\n            return {...state, userData: action.payload }\n        case LOGOUT_USER:\n            return {...state }\n        default:\n            return state;\n    }\n}","import 'react-app-polyfill/ie9';\nimport 'react-app-polyfill/ie11';\nimport 'core-js';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport { BrowserRouter } from \"react-router-dom\";\n\nimport Reducer from './_reducers';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport promiseMiddleware from 'redux-promise';\nimport ReduxThunk from 'redux-thunk';\n\nconst createStoreWithMiddleware = applyMiddleware(promiseMiddleware, ReduxThunk)(createStore);\n\nReactDOM.render(\n    <Provider\n        store={createStoreWithMiddleware(\n            Reducer,\n            window.__REDUX_DEVTOOLS_EXTENSION__ &&\n            window.__REDUX_DEVTOOLS_EXTENSION__()\n        )}\n    >\n        <BrowserRouter>\n            <App />\n        </BrowserRouter>\n    </Provider>\n    , document.getElementById('root'));\n"],"sourceRoot":""}